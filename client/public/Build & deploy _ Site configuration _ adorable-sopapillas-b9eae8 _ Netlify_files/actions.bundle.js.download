"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8107],{28925:(e,t,n)=>{n.d(t,{Eb:()=>g,FW:()=>c,d2:()=>l,o3:()=>u,rI:()=>d,so:()=>s});var i=n(26080),r=n(95045),a=n(13743);let o=(0,i.P)("accountCommitters"),s=(0,i.x)("accountCommitters",o);function u(e,t){let n=e.accountCommitters.getIn(["pages",t,"ids"]);return null==n?void 0:n.map(t=>e.accountCommitters.getIn(["entities",t]))}function c(e){return(0,a.p5)((t,n,i)=>i.accountCommitters(e.get("id"),{}).then(n=>{t(o.accountCommittersSuccess(e.get("slug"),n.data))}))}function l(e,t,n){return(0,a.p5)((i,r,a)=>a.createCommitter(e.get("id"),t,n).then(t=>{i(c(e))}))}function d({userId:e,account:t,committerId:n,memberId:i,inviteId:o}){return(0,a.p5)((a,s,u)=>u.updateCommitter(t.get("id"),n,i,o).then(o=>{r.iND.appCommitterMerged({accountId:t.get("id")||"",committerId:n,memberId:i,type:i?"merge":"unmerge",userId:e}),a(c(t))}))}function g(e,t){return(0,a.p5)((n,i,r)=>r.deleteCommitter(e.get("id"),t).then(t=>{n(c(e))}))}},57061:(e,t,n)=>{n.d(t,{Ah:()=>A,Kw:()=>E,Lj:()=>R,O_:()=>T,PM:()=>y,SM:()=>w,ad:()=>v,c_:()=>D,cg:()=>b,el:()=>P,hS:()=>L,j_:()=>U,pJ:()=>C,vd:()=>I});var i=n(88601),r=n(95390),a=n(36181),o=n(26080),s=n(96971),u=n(46275),c=n(49207),l=n(13743),d=n(35812);let g=(0,o.P)("accountMembers"),p="INVITE_CLEAR_FAILURES",f="INVITE_FAILURE",h="ACCOUNT_RECENT_MEMBERS_SUCCESS",m=(0,a.Z)(p),S=(0,a.Z)(f),_=(0,a.Z)(h),y=(0,o.x)("accountMembers",g,{handler:(e,t)=>{switch(t.type){case p:return e.setIn(["inviteErrors"],(0,i.List)());case f:{let n=e.get("inviteErrors")||(0,i.List)();return e.setIn(["inviteErrors"],n.push(t.payload))}case h:{let{accountSlug:n,data:r}=t.payload;return e.setIn(["recentMembers",n],(0,i.fromJS)(r))}default:return null}}});function v(e,t){let n=e.accountMembers.getIn(["pages",t,"ids"]);return n&&n.map(t=>e.accountMembers.getIn(["entities",t])).sort((e,t)=>{let n=e=>!0===e.get("pending");return n(e)&&!n(t)?1:!n(e)&&n(t)?-1:new Date(e.get("updated_at"))<new Date(t.get("updated_at"))?1:-1})}function I(e,t){return e.accountMembers.getIn(["recentMembers",null==t?void 0:t.get("slug")])}function E(e,t){return e.accountMembers.getIn(["entities",t])}function b(e,t){return e.accountMembers.getIn(["pages",t])}function w(e){return e.accountMembers.getIn(["inviteErrors"])}function P(e,t={}){return(0,l.p5)((n,i,r)=>r.accountMembers(e.get("slug"),t).then(t=>n(g.accountMembersSuccess(e.get("slug"),t.data,t.pagination))))}function C(e){return(0,l.p5)((t,n,i)=>{let r=null==e?void 0:e.get("slug");return i.accountMembers(r,{page:1,per_page:5}).then(e=>t(_({accountSlug:r,data:e.data})))})}function R(e,t){return(0,l.p5)((n,i,r)=>r.accountMember(null==e?void 0:e.get("slug"),t).then(e=>n(g.accountMemberSuccess(e.data))))}function U(e,{emails:t,role:n,site_ids:a,site_access:o,build_id:u},d){return(0,l.p5)((l,g,p)=>(l(m()),Promise.all(t.map(t=>p.inviteAccountMember(e.get("slug"),{email:t,role:n,site_ids:a,site_access:o,build_id:u}).catch(e=>{l(S((0,i.fromJS)({email:t,error:e.message})))}))).finally(()=>{l(P(e)),l((0,c.Mx)(e.get("slug")));let t=(0,s.l_)(e,"members");d&&(t+="?addOwner=true"),l((0,r.VF)(t))})))}function D(e,t){return(0,l.p5)((n,i,r)=>r.inviteAccountMember(e.get("slug"),{email:t.get("email"),role:t.get("role"),site_ids:t.get("site_ids"),site_access:t.get("site_access"),build_id:t.get("build_id")}).finally(()=>{n(P(e)),n((0,c.Mx)(e.get("slug")))}))}function T(){return m()}function A(e,t){return(0,l.p5)((n,i,r)=>r.removeAccountMember(e.get("slug"),t.get("id")).then(()=>{(0,d.HF)(i()).get("id")===t.get("id")?n((0,c.UU)(e)):(n(P(e)),n((0,u.uK)(e))),n((0,c.Mx)(e.get("slug")))}))}function L(e,t,{role:n,site_access:i,site_ids:r}){return(0,l.p5)((a,o,s)=>s.updateAccountMember(e.get("slug"),t.get("id"),{role:n,site_access:i,site_ids:r}).then(t=>{a((0,c.Mx)(e.get("slug"))),a(P(e)),a((0,u.uK)(e))}))}},59987:(e,t,n)=>{n.d(t,{L6:()=>s,TL:()=>o,V8:()=>u});var i=n(26080),r=n(13743);let a=(0,i.P)("accountReceipts"),o=(0,i.x)("accountReceipts",a);function s(e,t){let n=t&&e.accountReceipts.getIn(["pages",t.get("slug"),"ids"]);return n&&n.map(t=>e.accountReceipts.getIn(["entities",t])).filter(e=>e.get("html_stored"))}function u(e){return(0,r.p5)((t,n,i)=>i.accountReceipts(e.get("slug")).then(n=>t(a.accountReceiptsSuccess(e.get("slug"),n.data,n.pagination))))}},46275:(e,t,n)=>{n.d(t,{Du:()=>d,Mr:()=>u,fK:()=>g,uK:()=>c,wE:()=>p,xU:()=>l});var i=n(26080),r=n(84566),a=n(49207),o=n(13743);let s=(0,i.P)("accountReviewerMembers"),u=(0,i.x)("accountReviewerMembers",s);function c(e,t={per_page:50}){let n=e.get("slug");return(0,o.p5)((e,i,r)=>r.accountReviewerMembers(n,t).then(t=>e(s.accountReviewerMembersSuccess(n,t.data,t.pagination))))}function l(e,t){let n=null==e?void 0:e.accountReviewerMembers.getIn(["pages",t,"ids"]);return null==n?void 0:n.map(t=>e.accountReviewerMembers.getIn(["entities",t]))}function d(e,t){return e.accountReviewerMembers.getIn(["pages",t])}function g(e,t,{state:n}){let i=t.get("id");return(0,o.p5)((t,o,u)=>u.updateAccountMember(e.get("slug"),i,{role:r.TH,self_invite_state:n}).then(()=>{t((0,a.Mx)(e.get("slug"))),t(c(e))}).catch(e=>t(s.reviewerMembersFailure({memberId:i,error:e}))))}function p(e){return e.accountReviewerMembers.getIn(["error"])}},65383:(e,t,n)=>{n.d(t,{AS:()=>d,CG:()=>c,JF:()=>s,es:()=>p,hi:()=>g,ns:()=>l,pv:()=>f,yS:()=>u});var i=n(26080),r=n(13743),a=n(69165);let o=(0,i.P)("accountSiteLabels"),s=(0,i.x)("accountSiteLabels",o);function u(e,t){let n=e.accountSiteLabels.getIn(["pages",t,"ids"]);return null==n?void 0:n.map(t=>e.accountSiteLabels.getIn(["entities",t]))}function c(e,t){return e.accountSiteLabels.getIn(["pages",t])}function l(e,t={page:1}){return(0,r.p5)((n,i,r)=>r.accountSiteLabels(null==e?void 0:e.get("id"),t).then(t=>{n(o.accountSiteLabelsSuccess(e.get("slug"),t.data,t.pagination))}))}function d(e,t){return(0,r.p5)((n,i,r)=>r.createAccountSiteLabel(null==e?void 0:e.get("id"),t).then(t=>(n(l(e)),t)))}function g(e,t,n){return(0,r.p5)((i,r,a)=>a.updateAccountSiteLabel(null==e?void 0:e.get("id"),t,n).then(()=>{i(l(e))}))}function p(e,t){return(0,r.p5)((n,i,r)=>r.deleteAccountSiteLabel(null==e?void 0:e.get("id"),t).then(()=>{n(l(e))}))}function f(e,t,n){return(0,r.p5)((i,r,o)=>{o.updateSiteLabels(e.get("id"),t,n.get("id")).then(()=>{i((0,a.EQ)(n.get("name")))})})}},49207:(e,t,n)=>{n.d(t,{CQ:()=>O,Gj:()=>et,Ko:()=>Z,L3:()=>V,MI:()=>H,Mx:()=>k,Tq:()=>G,UU:()=>B,Wq:()=>ee,_Z:()=>K,bk:()=>j,cM:()=>Q,d0:()=>$,i6:()=>F,my:()=>X,nw:()=>Y,o1:()=>M,ok:()=>z,qL:()=>en,rp:()=>W,s5:()=>J,sG:()=>N,tm:()=>x,uW:()=>ei,vP:()=>L,y7:()=>A});var i=n(88601),r=n(95390),a=n(36181),o=n(26080),s=n(95045),u=n(72028),c=n(59973),l=n(55155),d=n(32112),g=n(61004),p=n(1958),f=n(66083),h=n(13743),m=n(76918),S=n(69165),_=n(5330),y=n(31316);let v="ACCOUNT_TYPES_SUCCESS",I="ACCOUNT_COMPLIANCE_SUCCESS",E="SET_SELECTED_ACCOUNT",b="SET_REQUESTED_ACCOUNT_TYPE",w="ACCOUNT_BUILD_USAGE_SUCCESS",P="ACCOUNT_EDGE_FUNCTION_BANDWIDTH_USAGE_SUCCESS",C=(0,o.P)("accounts"),R=(0,a.Z)(v,e=>e),U=(0,a.Z)(I,(e,t)=>({id:e,compliance:t})),D=(0,a.Z)(P,(e,t)=>({id:e.get("id"),edgeFunctions:t})),T=(0,a.Z)(w,(e,t)=>({id:e.get("id"),status:t}));function A(e){return(t,n)=>{t((0,m._n)({accountId:e.get("id"),from:new Date(e.get("current_usage_period_start")).getTime(),to:new Date(e.get("next_usage_period_start")).getTime()})),t((0,h.p5)((t,n,i)=>i.accountBuildStatus(e.get("slug")).then(n=>{t(T(e,n.data))}))),t((0,h.p5)((t,n,i)=>i.accountEdgeFunctionsUsage(e.get("slug")).then(n=>{t(D(e,n.data))}))),(0,u.bU)(e)&&t((0,m.BL)({accountId:e.get("id"),from:new Date(e.get("current_usage_period_start")).getTime(),to:new Date(e.get("next_usage_period_start")).getTime()}))}}function L(){return(0,h.p5)((e,t,n)=>n.accounts().then(t=>{e(C.accountsSuccess("accounts",t.data,t.pagination)),p.Z.setContext("accounts",t.data.map(e=>(0,l.M)(e)))}))}function k(e){return(0,h.p5)((t,n,i)=>i.account(e).then(e=>t(C.accountSuccess(e.data))).then(n=>{var i;return t(function({accountId:e,slug:t}){return(0,h.p5)((n,i,r)=>r.accountCompliance(t).then(t=>n(U(e,t.data))))}({accountId:null==n?void 0:null===(i=n.payload)||void 0===i?void 0:i.id,slug:e})),n}).catch(n=>t(C.accountFailure(e,n))))}function F(e){return(t,n)=>{t(k(e.get("slug"))).then(()=>{t(A(e))})}}function Z(){return(0,h.p5)((e,t,n)=>n.accountTypes().then(t=>e(R(t.data))))}function M(e){return(0,h.p5)((t,n,a)=>a.createAccount(e).then(({data:n})=>{t(C.accountSuccess(n)),e.transferSite&&t((0,S.GQ)(e.transferSite,(0,i.Map)(n))),t(L()),t((0,r.VF)(`/teams/${n.slug}`)),t((0,S.KZ)()),t((0,_.L9)({event:"subscription_created",category:"subscription",label:`Team plan ${n.type_name}`}))}))}function N(e,t){return(0,h.p5)((n,i,r)=>r.updateAccount(e.get("id"),t).then(({data:i})=>{let{logo:a}=t;if(void 0!==a&&r.updateAccountLogo(e.get("id"),a).catch(e=>new c.Z(e)),n((0,S.Go)()),n(C.accountSuccess(i)),e.get("type_slug")===d.iK&&i.type_slug===d.d0&&i.type_id===t.type_id){let n=(0,g.St)("upgradePro")?"www":"app",i=(0,g.St)("gaID")?(0,g.St)("gaID"):"";s.iND.appFlowUpgradePro({category:"flow",label:"Team upgraded to Pro",accountId:e.get("id"),gaID:i||"",source:n,trialRequested:!!t.free_trial}),(0,g.St)("upgradePro")&&(0,g.lD)("upgradePro")}if((e.get("type_slug")===d.iK||e.get("type_slug").match(/pro/))&&i.type_slug===d.HX&&i.type_id===t.type_id){let t=(0,g.St)("upgradeBusiness")?"www":"app",n=(0,g.St)("gaID")?(0,g.St)("gaID"):"";s.iND.appFlowUpgradeBusiness({category:"flow",label:"Team upgraded to Business",accountId:e.get("id"),gaID:n||"",source:t}),(0,g.St)("upgradeBusiness")&&(0,g.lD)("upgradeBusiness")}e.get("type_slug")===d.s5&&(i.type_slug===d.iK||i.type_slug===d.d0)&&i.type_id===t.type_id&&s.iND.appEnterpriseTrialDowngrade({newPlanTypeSlug:i.type_slug,daysLeftOnTrial:(0,d.OF)(e)});let o=e.get("slug"),{slug:u}=i;o!==u&&n((0,y.Ee)(document.location.pathname.replace(`/teams/${o}/`,`/teams/${u}/`)))}))}function O(e,t){let n=e.get("slug");return(0,h.p5)((e,i,r)=>r.updateAccountSecurityContacts(n,t).then(t=>e(k(n))))}function $({account:e,data:t}){let n=e.get("slug");return(0,h.p5)((e,i,r)=>r.updateAccount(n,t).then(t=>e(k(n))))}function z(e,t){return(0,h.p5)((n,i,r)=>r.updateAccount(e.get("id"),t).then(()=>{let{logo:i}=t;if(void 0!==i)return r.updateAccountLogo(e.get("id"),i).then(()=>{n(k(e.get("slug")))}).catch(e=>new c.Z(e))}))}function J(e){return(0,h.p5)((t,n,i)=>i.deleteAccountLogo(e.get("id")).then(()=>{t(k(e.get("slug")))}).catch(e=>new c.Z(e)))}function x(e){return s.iND.appAccountDelete({accountId:null==e?void 0:e.get("id"),accountSlug:null==e?void 0:e.get("slug")}),(0,h.p5)((t,n,i)=>i.deleteAccount(e.get("id")).then(n=>t(B(e))))}function B(e){return(e,t)=>{e((0,S.Go)()),e(Y(null)),e(L()).then(()=>e((0,y.Ee)("/")))}}function Y(e){return(0,g.D$)("nf-team",e),{type:E,slug:e}}function G(e,t=!1,n=!1){return{type:b,payload:{accountTypeRequested:e,isNewAccountTypeRequested:t,isTrialAccountTypeRequested:n}}}function K(){return G(null)}let q=(e,t)=>[e.get?e.get("id"):e.id,t].join("-"),H=(0,o.x)("accounts",C,{key:"slug",handler:(e,t)=>{switch(t.type){case v:return e.set("accountTypes",(0,i.fromJS)(t.payload));case E:return e.set("selected",t.slug);case b:return e.set("accountTypeRequested",t.payload.accountTypeRequested).set("isNewAccountTypeRequested",t.payload.isNewAccountTypeRequested).set("isTrialAccountTypeRequested",t.payload.isTrialAccountTypeRequested);case I:return e.set(q(t.payload,"compliance"),(0,i.fromJS)(er(t.payload.compliance)));case"ACCOUNT_CREATOR_SUCCESS":return e.set(q(t.payload,"creator"),(0,i.fromJS)(t.payload));case"ACCOUNT_UPGRADE_PRO":return e.set("upgradePro",(0,i.fromJS)(t.payload.id));case w:return e.set(q(t.payload,"build_minutes"),(0,i.fromJS)({used:t.payload.status.minutes?t.payload.status.minutes.current:t.payload.status.minutes_used}));case P:return e.set(q(t.payload,"edge_functions"),(0,i.fromJS)(t.payload.edgeFunctions));default:return null}}});function j(e,t){var n,r;let a=e.accounts.getIn(["entities",t]);return a?((0,f.F0)(a)&&(a=a.merge({user_capabilities:{billing:a.getIn(["user_capabilities","billing"])}})),a=(a=a.mergeIn(["capabilities"],function(e,t){let n=e.bandwidth.get(q(t,"bandwidthUsageDomains")),r=e.accounts.get(q(t,"build_minutes")),a=e.accounts.get(q(t,"edge_functions"));if(!(null==n?void 0:n.has("groups"))){var o;let r=e.bandwidth.get(q(t,"bandwidthUsageConnect")),a=(null==n?void 0:n.get("used"))||0,s=(null==r?void 0:r.get("used"))||0;n=null==n?void 0:null===(o=n.set("used",a+s))||void 0===o?void 0:o.set("groups",(0,i.Map)({domains:a,data_layers:s}))}return n&&r&&(0,i.Map)({period_start_date:n.get("period_start_date"),period_end_date:n.get("period_end_date"),last_updated_at:n.get("last_updated_at"),bandwidth:n,build_minutes:r.set("included",t.getIn(["capabilities","build_minutes","included"])),edge_functions:a})}(e,a))).mergeIn(["compliance"],(n=a.get("id"),null===(r=e.accounts)||void 0===r?void 0:r.get(q({id:n},"compliance"))))):null}function V(e){let t=e.accounts.getIn(["pages","accounts","ids"]),n=t&&t.map(t=>j(e,t));return n&&(0,i.List)(n.sort((e,t)=>e.get("name").localeCompare(t.get("name"))))}function Q(e,t){return e.accounts.getIn(["entities",t,"error"])}function W(e){let t=e.user,n=V(e),i=null==t?void 0:t.get("preferred_account_id");return(null==n?void 0:n.find(e=>(null==e?void 0:e.get("id"))===i))||t&&n&&(n.find(e=>!!e&&e.get("default")&&(null==e?void 0:e.getIn(["owner_ids",0]))===t.get("id"))||n.first())}function X(e){return e.accounts.get("accountTypeRequested")}function ee(e){return e.accounts.get("isNewAccountTypeRequested")}function et(e){return e.accounts.get("isTrialAccountTypeRequested")}function en(e){return e.accounts.get("accountTypes")}function ei(e){let t=e.accounts.get("selected")||(0,g.le)("nf-team");return j(e,t)||W(e)}let er=e=>(e&&!1===e.private_corp_repos.in_compliance||(e.private_corp_repos.in_compliance=!0),e)},95559:(e,t,n)=>{let i;n.d(t,{Dc:()=>U,Ji:()=>D,PO:()=>F,Pc:()=>Z,Te:()=>k,Tf:()=>Y,Wo:()=>B,Ww:()=>J,XF:()=>G,Z$:()=>O,_$:()=>H,bc:()=>$,co:()=>V,gg:()=>x,lW:()=>M,mE:()=>N,mq:()=>j,nV:()=>z,p_:()=>K,wi:()=>T});var r=n(88601),a=n(36181),o=n(22339),s=n(50035),u=n(13743),c=n(69165);let l="ANALYTICS_METRIC_SUCCESS",d="ANALYTICS_METRIC_FETCHING_DONE",g="ANALYTICS_METRIC_FETCHING_STARTED",p="pageviews",f="pageviews-summary",h="unique-visitors",m="unique-visitors-summary",S="top-locations",_="top-sources",y="top-pages",v="bandwidth-used",I="bandwidth-used-summary",E="not-found",b={resolution:"day",days:30},w=30,P=(0,a.Z)(l,(e,t,n,{data:i})=>({metric:e,siteId:t.get("id"),period:n,data:i})),C=(0,a.Z)(d,(e,t)=>({metric:e,siteId:t.get("id")})),R=(0,a.Z)(g,(e,t)=>({metric:e,siteId:t.get("id")}));function U(e){let t=e.get("id");return(0,u.p5)((n,i,r)=>r.enableAnalytics(t).then(()=>n((0,c.EQ)(e.get("name")))).then(e=>n((0,c.ZO)(e))))}function D(e){let t=e.get("id"),n=e.get("analytics_instance_id");return n?(0,u.p5)((i,r,a)=>a.deleteAnalytics(t,n).then(()=>i((0,c.EQ)(e.get("name"))))):Promise.resolve()}function T(e){return(t,n)=>{let{config:r}=n();return e(t,n,i=i||new s.ZP(r))}}function A(e="day",t=30,n=0,i){let r=new Date;return"hour"===e?"uniqueVisitors"===i?{from:(0,o.YD)(r,1+n).getTime(),to:(0,o.YD)(r,n).getTime()-36e5,resolution:e,minusOffsetDays:n}:{from:(0,o.YD)(r,1+n).getTime(),to:(0,o.YD)(r,n).getTime(),resolution:e,minusOffsetDays:n}:{from:(0,o.b7)((0,o.YD)(r,t+n)).getTime(),to:n?(0,o.iX)((0,o.YD)(r,n)).getTime():r.getTime(),resolution:e,minusOffsetDays:n}}function L(e="day",t=30,n=0,i){return 7===t?{period:A(e,t,n),periodByRange:A("range",t,n)}:1===t?{period:A(e,24,n,i),periodByRange:A("range",t,n)}:{period:A(e,t,n),periodByRange:A("range",t,n)}}function k(e,{resolution:t,days:n,minusOffsetDays:i}=b){let{period:r,periodByRange:a}=L(t,n,i);return w=n,T((t,n,i)=>Promise.all([t(R(f,e)),t(R(p,e)),i.pageviews(e.get("id"),r).then(n=>t(P(p,e,r,n))),i.pageviews(e.get("id"),a).then(n=>t(P(f,e,r,n)))]).then(()=>t(C(p,e))).then(()=>t(C(f,e))))}function F(e,t){return e.analytics.get(`${t.get("id")}-${p}`)&&e.analytics.get(`${t.get("id")}-${p}`).toJS()}function Z(e,{resolution:t,days:n,minusOffsetDays:i=0}=b){let{period:r,periodByRange:a}=L(t,n,i,"uniqueVisitors");return w=n,T((t,n,i)=>Promise.all([t(R(m,e)),t(R(h,e)),i.uniqueVisitors(e.get("id"),r).then(n=>t(P(h,e,r,n))),i.uniqueVisitors(e.get("id"),a).then(n=>t(P(m,e,a,n)))]).then(()=>t(C(h,e))).then(()=>t(C(m,e))))}function M(e,t){return e.analytics.get(`${t.get("id")}-${h}`)&&e.analytics.get(`${t.get("id")}-${h}`).toJS()}function N(e,{resolution:t,days:n,minusOffsetDays:i=0}=b){let{period:r}=L(t,n,i);return T((t,n,i)=>(t(R(S,e)),i.topLocations(e.get("id"),r).then(n=>t(P(S,e,r,n))).then(()=>t(C(S,e)))))}function O(e,t){return e.analytics.get(`${t.get("id")}-${S}`)&&e.analytics.get(`${t.get("id")}-${S}`).toJS()}function $(e,{resolution:t,days:n,minusOffsetDays:i=0}=b){let{period:r}=L(t,n,i);return T((t,n,i)=>(t(R(_,e)),i.topSources(e.get("id"),r).then(n=>t(P(_,e,r,n))).then(()=>t(C(_,e)))))}function z(e,t){return e.analytics.get(`${t.get("id")}-${_}`)&&e.analytics.get(`${t.get("id")}-${_}`).toJS()}function J(e,{resolution:t,days:n,minusOffsetDays:i=0}=b){let{period:r}=L(t,n,i);return T((t,n,i)=>(t(R(y,e)),i.topPages(e.get("id"),r).then(n=>t(P(y,e,r,n))).then(()=>t(C(y,e)))))}function x(e,t){return e.analytics.get(`${t.get("id")}-${y}`)&&e.analytics.get(`${t.get("id")}-${y}`).toJS()}function B(e,{resolution:t,days:n,minusOffsetDays:i=0}=b){let{period:r,periodByRange:a}=L(t,n,i);return w=n,T((t,n,i)=>Promise.all([t(R(I,e)),t(R(v,e)),i.bandwidthUsed(e.get("id"),r).then(n=>t(P(v,e,r,n))),i.bandwidthUsed(e.get("id"),a).then(n=>t(P(I,e,a,n)))]).then(()=>t(C(v,e))).then(()=>t(C(I,e))))}function Y(e,t){return e.analytics.get(`${t.get("id")}-${v}`)&&e.analytics.get(`${t.get("id")}-${v}`).toJS()}function G(e,{resolution:t,days:n,minusOffsetDays:i=0}=b){let{period:r}=L(t,n,i);return T((t,n,i)=>(t(R(E,e)),i.notFound(e.get("id"),r).then(n=>t(P(E,e,r,n))).then(()=>t(C(E,e)))))}function K(e,t){return e.analytics.get(`${t.get("id")}-${E}`)&&e.analytics.get(`${t.get("id")}-${E}`).toJS()}function q(e,t=null){return e.reduce((e,n)=>e+(t?n[t]:n[1]),0)}function H(){return w}function j(e,t){var n;let{data:i,status:r,timePeriod:a,isFetching:o}=e.analytics.get(`${t.get("id")}-${f}`)&&e.analytics.get(`${t.get("id")}-${f}`).toJS()||{},{data:s,status:u,timePeriod:c,isFetching:l}=e.analytics.get(`${t.get("id")}-${m}`)&&e.analytics.get(`${t.get("id")}-${m}`).toJS()||{},{data:d,status:g,timePeriod:p,isFetching:h}=e.analytics.get(`${t.get("id")}-${I}`)&&e.analytics.get(`${t.get("id")}-${I}`).toJS()||{};return{timePeriod:a||c||p,pageviewSummary:{total:i&&q(i),status:r,isFetching:o},uniqueVisitorSummary:{total:(null==s?void 0:null===(n=s[0])||void 0===n?void 0:n[1])||0,status:u,isFetching:l},bandwidthSummary:{total:d&&q(d,"siteBandwidth"),status:g,isFetching:h}}}let V=(e=(0,r.Map)(),t)=>{switch(t.type){case g:return e.setIn([`${t.payload.siteId}-${t.payload.metric}`,"isFetching"],!0);case l:return e.set(`${t.payload.siteId}-${t.payload.metric}`,(0,r.fromJS)({data:t.payload.data,timePeriod:{from:t.payload.period.from,to:t.payload.period.to,minusOffsetDays:t.payload.period.minusOffsetDays},status:"current"}));case d:return e.setIn([`${t.payload.siteId}-${t.payload.metric}`,"isFetching"],!1);default:return e}}},13743:(e,t,n)=>{n.d(t,{Hx:()=>i.Z,ac:()=>c,oA:()=>g,p5:()=>l,vd:()=>d});var i=n(59973),r=n(54587),a=n(1361),o=n(35812),s=n(3643);let u=null;function c(e){let{config:t,user:n}=e;return t&&n&&u&&u.token===n.get("access_token")?u:n?u=new a.Z(t.set("accessToken",n.get("access_token"))):new a.Z(t)}let l=(e,t)=>(n,a)=>{let s=(null==(t=null!=t?t:{})?void 0:t.type)==="create-api"?new r.Z:c(a());if(!s)return Promise.reject(new i.Z("No API"));let u=e(n,a,s);return u&&u.catch&&u.catch(e=>((null==e?void 0:e.code)===401&&n((0,o.wq)(e)),e instanceof i.Z?Promise.reject(e):Promise.reject(new i.Z(e))))};function d(e){return l((t,n,i)=>(0,s.$_)((r,a,o)=>e(t,n,i,o))(t,n))}function g(e){let t=e instanceof i.Z?e:new i.Z(e),n=null==t?void 0:t.toString().replace(/^Error:\s?/,"");if(""===n){var r;return(null==t?void 0:t.message)?t.message:null==t?void 0:null===(r=t.error)||void 0===r?void 0:r.message}return n}},63437:(e,t,n)=>{n.d(t,{H6:()=>u,KL:()=>f,KM:()=>_,UG:()=>s,W3:()=>l,Xo:()=>y,Yn:()=>g,bU:()=>S,iT:()=>p,li:()=>d,pO:()=>c,rP:()=>o,zJ:()=>h});var i=n(26080),r=n(13743);let a=(0,i.P)("applications"),o=(0,i.x)("applications",a,{key:"client_id"});function s(e){return(0,r.p5)((t,n,i)=>i.application(e).then(e=>t(a.applicationSuccess(e.data))))}function u(){return(0,r.p5)((e,t,n)=>n.applications().then(t=>e(a.applicationsSuccess("oauth",t.data,t.pagination))))}function c(e){return(0,r.p5)((t,n,i)=>i.authorizedApplications(e).then(e=>t(a.applicationsSuccess("authorized",e.data,e.pagination))))}function l(e){return(0,r.p5)((t,n,i)=>i.createApplication(e).then(e=>t(u())))}function d(e,t){return(0,r.p5)((n,i,r)=>r.updateApplication(e,t).then(e=>n(a.applicationSuccess(e.data))))}function g(e){return(0,r.p5)((t,n,i)=>i.removeApplication(e).then(e=>t(u())))}function p(e,t){return(0,r.p5)((n,i,r)=>r.revokeAuthorizedApplication(e,t).then(e=>n(c(t))))}function f(e){return(0,r.p5)((t,n,i)=>i.createPersonalToken(e))}function h(e,t){return e.applications.getIn(["entities",t])}function m(e){let t=e.applications.getIn(["pages","oauth","ids"]);return t&&t.map(t=>h(e,t))}function S(e){let t=e.applications.getIn(["pages","authorized","ids"]);return t&&t.map(t=>h(e,t))}function _(e){let t=m(e);return t&&t.filter(e=>!e.get("personal"))}function y(e){let t=m(e);return t&&t.filter(e=>e.get("personal"))}},25968:(e,t,n)=>{n.d(t,{LW:()=>o,Sy:()=>u,rw:()=>c,sQ:()=>s,yb:()=>l});var i=n(26080),r=n(13743);let a=(0,i.P)("authProviders"),o=(0,i.x)("authProviders",a);function s(e){return(0,r.p5)((t,n,i)=>i.authProviders(e.get("id")).then(n=>t(a.authProvidersSuccess(e.get("id"),n.data,n.pagination)),n=>t(a.authProvidersFailure(e.get("id"),n))))}function u(e,t){return(0,r.p5)((n,i,r)=>{let{type:a,apiID:o,apiSecret:u}=t.toJS();return r.createAuthProvider(e.get("id"),a,o,u).then(t=>n(s(e)))})}function c(e,t){return(0,r.p5)((n,i,r)=>r.removeAuthProvider(e.get("id"),t.get("name")).then(t=>n(s(e))))}function l(e,t){let n=e.authProviders.getIn(["pages",t,"ids"]);return n&&n.map(t=>e.authProviders.getIn(["entities",t]))}},35812:(e,t,n)=>{n.d(t,{$D:()=>M,A9:()=>V,B9:()=>W,Bh:()=>ec,DL:()=>ei,DQ:()=>ea,EA:()=>el,HF:()=>ep,KE:()=>ef,Kk:()=>Y,Nq:()=>q,Ov:()=>J,Qk:()=>T,Sz:()=>ee,TX:()=>x,VB:()=>j,Wb:()=>D,Wk:()=>eg,YR:()=>eo,Yn:()=>en,_b:()=>K,c0:()=>G,ek:()=>ed,fq:()=>X,hP:()=>Z,k3:()=>H,mb:()=>er,ou:()=>O,pH:()=>$,t:()=>es,wq:()=>B,xh:()=>z,zj:()=>Q});var i=n(88601),r=n.n(i),a=n(95390),o=n(36181),s=n(95045),u=n(95533),c=n(72850),l=n(59973),d=n(34446),g=n(30327),p=n(40742),f=n(84320),h=n(61004),m=n(1958),S=n(53227),_=n(49207),y=n(13743),v=n(3643),I=n(93084),E=n(31316);let b="nf-session",w="AUTH_ERROR",P="USER_REQUEST",C="RESET_PASSWORD_SUCCESS",R="LOGIN_USER",U="UPDATE_USER",D="LOGOUT_USER",T="USER_SIGNUP",A="USER_SUCCESS",L="USER_SUCCESS_SHALLOW",k=(0,o.Z)(C),F=(0,o.Z)(T,e=>({user:e}));function Z(){try{let e=(0,h.le)(b);return e&&JSON.parse(e).access_token}catch(e){return console.error("Error parsing data from local storage",e),null}}function M({reload:e=!1}={}){return(t,n)=>{let i=n(),r=ep(i);if(r&&!e)return Promise.resolve(r);let a=Z();return a&&(0,d.W8)()?N(i.config,a).then(e=>(e.id!==(null==r?void 0:r.get("id"))?t({type:R,payload:e}):t({type:U,payload:e}),ep(n()))):Promise.resolve(null)}}function N(e,t){let n={access_token:t};return(0,y.ac)({config:e,user:(0,i.Map)(n)}).user().then(e=>({...e.data,...n}))}function O({token:e,isSignup:t,isReviewer:n,isVerify:i,redirect:r,isCreateSignup:a}){return(o,s)=>(function(e,t,n){let{config:i}=e();return n?(0,y.ac)({config:i}).verifyUserByToken(t).then(e=>{if("error"===e.data.state)throw new l.Z(e.data);return e.data.data.user}):N(i,t)})(s,e,i).then(async e=>{o({type:D});let i=(null==e?void 0:e.access_token)&&"use-http-auth-token"!==e.access_token;if((t||!(0,d.W8)())&&i)try{await (0,S.sV)({access_token:e.access_token})}catch(e){}o($(e,t));let s=(0,h.le)("persistedQueryParams")||"";(0,h.e8)("persistedQueryParams");let u=(0,g.VP)(s,e=>d.Fh.includes(e));!t||n||a||u.append("new_user",t);let c=u.toString()&&`?${u.toString()}`,l=`${r||""}${c}`;o(eu(`${l}`))}).catch(e=>Promise.reject(new l.Z("Invalid authorization code")))}function $(e,t,n,r){return(a,o)=>{if(e=Object.assign({},e),t||e.isSignup?a(F(e)):n||s.iND.appUserLogin({category:"user",label:"User Login"}),delete e.isSignup,n||e.isUpdate){delete e.isUpdate;let t=(0,h.le)(b);e=(0,i.fromJS)(JSON.parse(t)).mergeDeep((0,i.fromJS)(e)).toJS()}let u={access_token:"use-http-auth-token"};(0,h.D$)(b,JSON.stringify(u));let{originAllowedToAuth:c,openerOrigin:l}=ef();try{!n&&c&&(0,S.$f)().then(e=>{u.access_control_token=e}).finally(()=>{window.opener.postMessage({type:"LOGIN",payload:JSON.stringify(u)},l)})}catch(e){console.log("auth ﹥ loginUser",e)}a({type:r||R,payload:{loggedInAt:Date.now(),isSignup:t,isUpdate:n,...e}})}}function z(e,t){return(0,y.p5)((n,i,r)=>r.fetchEdgeAccessToken(e,t))}function J(e){return(t,n)=>{(0,S.vH)(),(0,f.K$)(),(0,h.ZL)({exclude:[c.N9,d.d$,d.cp,u.Nk]}),t({type:D}),t(eu(e))}}function x(e){return(0,y.p5)((t,n,i)=>{let r=ep(n());return(0,p.jK)(null==r?void 0:r.get("email"))||i.destroyAccessToken(),m.Z.shutdown(),t(J(e))})}function B(e){return{type:w,payload:e}}function Y(e){return(0,y.p5)((t,n,i)=>i.resetPasswordEmail(e))}function G(e,t,n){return(0,y.p5)((i,r,a)=>a.resetPassword(e,t,n).then(()=>{i(J("/")),i(k({success:!0}))}))}function K(e){return(0,y.p5)((t,n,i)=>(t({type:P}),i.updateUserQuestionnaireTelemetry(e).then(()=>t(M({reload:!0}))).then(()=>ep(n()))))}function q(e){return(0,y.p5)((t,n,i)=>(t({type:P}),i.updateUser(e).then(async({data:n})=>{let{password:r,full_name:a,avatar:o}=e;o&&await i.updateUserAvatar(o).then(()=>{t(M({reload:!0})),t((0,_.vP)())}).catch(e=>new l.Z(e)),r?t(J(window.location.pathname)):t($(n,!1,!0,A)),!r&&a&&t((0,_.vP)())}).then(()=>ep(n()))))}function H(e){return(0,y.p5)((t,n,i)=>(t({type:P}),i.updateUser(e).then(async({data:e})=>{t({type:L,payload:e})})))}function j(){return(0,y.p5)((e,t,n)=>n.deleteUserAvatar().then(()=>{e(M({reload:!0})),e((0,_.vP)())}).catch(e=>new l.Z(e)))}function V(e,t){return(0,y.p5)((n,i,r)=>r.verifyUser(e,t).then(()=>n(M({reload:!0}))).catch(e=>new l.Z(e)))}function Q(e,t){return(0,y.p5)((n,i,r)=>r.verifySamlUserByToken(e,t).then(e=>n((0,I.e7)(e.data.data.user,e.data.data.saml_slug))).catch(e=>new l.Z(e)))}function W(){return s.iND.appUserDelete(),(0,y.p5)((e,t,n)=>n.disableUser())}function X(e="slides",t="closed"){return(n,r)=>n(q({onboarding_progress:(ep(r()).get("onboarding_progress")||(0,i.Map)()).set(e,t)}))}function ee(e){return(t,n)=>{let r=ep(n()),a={};if("string"!=typeof r.getIn(["onboarding_progress","guided_onboarding"])){var o;a=null===(o=r.getIn(["onboarding_progress","guided_onboarding"],(0,i.Map)()))||void 0===o?void 0:o.toJS()}return t(X("guided_onboarding",{...a,...e}))}}function et(e){return new S.ZP(e.config.toJS())}function en({provider:e}){return(0,y.p5)((t,n,i)=>((0,S.xw)({url:"/authorizing.html",provider:e}),i.authLink({provider:e}).then(t=>new Promise((i,r)=>et(n()).open({url:t.data.redirect_uri,provider:e},(e,t)=>e?r(e):i(t)))).then(e=>t(M({reload:!0}))).catch(e=>((0,S.on)(),Promise.reject(e)))))}function ei({provider:e}){return(0,y.p5)((t,n,i)=>i.authUnlink({provider:e}).then(e=>t(M({reload:!0}))))}function er(e){return e="local-dev"===e?"dev":e,(0,y.p5)(async(t,n,i)=>(await i.generateCreateAuthJwt(e)).data.create_auth_jwt)}function ea({email:e,accountSlug:t}){return(0,y.p5)((n,i,r)=>r.resendVerifyEmail(e,t).catch(e=>{throw new l.Z(`Could not resend verification email: ${e.message}`)}))}function eo(e){return(0,y.p5)((t,n,i)=>{let r=n(),a=ep(r),o={provider:"github",redirect:!0,login:!a||e.signup||e.forceAuth,...e};return o.amnesia?i.resetPasswordEmail(o.email).then(()=>({verify:!0})):new Promise((e,n)=>et(r).authenticate(o,async(i,r)=>{if(i)return n(i);if(r.verify)return e(r);if(r.redirect_uri)return t(eu(r.redirect_uri)),e(r);if(o.login&&r.user){var u;t({type:D}),(null==r?void 0:null===(u=r.user)||void 0===u?void 0:u.access_token)&&"use-http-auth-token"!==r.user.access_token&&(await (0,S.sV)({access_token:r.user.access_token}),r.user.access_token="use-http-auth-token"),t($(r.user,r.new_user)),t(eu(o.next))}t((0,v.fc)(o.provider,r)),s.iND.appSignupGitProviderCreated({userId:null==a?void 0:a.get("id"),gitProvider:o.provider}),e(r)}))})}function es(e){ec(e)&&(0,h.D9)("next",e)}function eu(e){return e=function(e){let t="string"==typeof e&&e||sessionStorage.getItem("next")||"/";return ec(t)?t:"/"}(e),t=>{t((0,E.Ee)(e))}}function ec(e){return!(e&&!e.startsWith("/auth-create")&&(e.startsWith("/sso")||e.startsWith("/auth")||"/login/email"===e||"/login"===e))||(console.log("next redirect is for an auth path. Ignoring to avoid loops",e),!1)}function el(e=null,t){switch(t.type){case w:return e?e.set("authError","forbidden"):r().fromJS({authError:"missing"});case a.nk:return e?e.delete("authError"):e;case R:case U:return r().fromJS(t.payload);case D:return null;case P:return e.set("isFetching",!0);case A:return e.mergeDeep(t.payload,{isFetching:!1,authError:null});case L:return e.merge(t.payload,{isFetching:!1,authError:null});case"USER_ERROR":return e.merge({isFetching:!1,error:t.payload});default:return e}}function ed(e=(0,i.fromJS)({}),t){return t.type===C?e.merge((0,i.fromJS)({resetSuccess:t.payload.success})):e}function eg(e){let{userPassword:t}=e;return(null==t?void 0:t.get("resetSuccess"))||!1}function ep(e){let{user:t}=e;return t&&t.get("id")?t:null}function ef(){let e="",t=!1;if(null===window.opener)return{originAllowedToAuth:!!t,openerOrigin:e};let n=new URLSearchParams(window.location.search).get("opener-origin")||(0,h.jE)("opener-origin");try{var i;e=null===(i=window.opener)||void 0===i?void 0:i.origin}catch(e){console.error(e)}return!e&&n&&((0,h.w4)("opener-origin",n,18e5),e=decodeURIComponent(n)),e&&(e=new URL(e).origin),(t=[window.origin,"https://www.netlify.com","https://docs.netlify.com"].includes(e))||(/--docs.netlify.app$/.test(e)?t=!0:/--www.netlify.app$/.test(e)&&(t=!0)),{originAllowedToAuth:!!t,openerOrigin:e}}},76918:(e,t,n)=>{n.d(t,{BL:()=>P,D7:()=>b,EA:()=>w,ZD:()=>R,Zb:()=>T,_2:()=>A,_n:()=>E,hM:()=>C,k_:()=>D,oC:()=>U,x0:()=>L});var i=n(88601),r=n(36181),a=n(26080),o=n(59973),s=n(13743);let u=(e,t)=>[e.get?e.get("id"):e.id,t].join("-"),c="BANDWIDTH_USAGE_DOMAINS_SUCCESS",l="BANDWIDTH_USAGE_DOMAINS_HISTORIC_SUCCESS",d="BANDWIDTH_USAGE_DOMAINS_RANKING_SUCCESS",g="BANDWIDTH_USAGE_CONNECT_SUCCESS",p="BANDWIDTH_USAGE_CONNECT_HISTORIC_SUCCESS",f="BANDWIDTH_USAGE_CONNECT_RANKING_SUCCESS",h=(0,a.P)("bandwidth"),m=(0,r.Z)(c,(e,t)=>({id:e,bandwidth:t})),S=(0,r.Z)(l,(e,t)=>({id:e,bandwidth:t})),_=(0,r.Z)(d,(e,t)=>({id:e,bandwidth:t})),y=(0,r.Z)(g,(e,t)=>({id:e,bandwidth:t})),v=(0,r.Z)(p,(e,t)=>({id:e,bandwidth:t})),I=(0,r.Z)(f,(e,t)=>({id:e,bandwidth:t}));function E({accountId:e,from:t,to:n}){return(0,s.p5)((i,r,a)=>a.accountBandwidth({id:e,from:t,to:n}).then(t=>{i(m(e,t.data))}).catch(e=>new o.Z(e)))}function b(e,t){return(0,s.p5)((n,i,r)=>Promise.all(t.map((t,n)=>{var i,a;return r.accountBandwidth({id:e,from:null===(i=t.from)||void 0===i?void 0:i.getTime(),to:null===(a=t.to)||void 0===a?void 0:a.getTime()}).then(e=>({from:t.from,to:t.to,data:e.data}))})).then(t=>{n(S(e,t))}))}function w(e,t,n){return(0,s.p5)((i,r,a)=>Promise.all(n.map((n,i)=>{var r,o;return a.accountBandwidthRanking({id:e,limit:t,from:null===(r=n.from)||void 0===r?void 0:r.getTime(),to:null===(o=n.to)||void 0===o?void 0:o.getTime()}).then(e=>({from:n.from,to:n.to,data:e.data.data}))})).then(t=>{i(_(e,t))}))}function P({accountId:e,from:t,to:n}){return(0,s.p5)((i,r,a)=>a.accountConnectBandwidth({id:e,from:t,to:n}).then(t=>{i(y(e,t.data))}).catch(e=>new o.Z(e)))}function C(e,t){return(0,s.p5)((n,i,r)=>Promise.all(t.map((t,n)=>{var i,a;return r.accountConnectBandwidth({id:e,from:null===(i=t.from)||void 0===i?void 0:i.getTime(),to:null===(a=t.to)||void 0===a?void 0:a.getTime()}).then(e=>({from:t.from,to:t.to,data:e.data}))})).then(t=>{n(v(e,t))}))}function R(e,t,n){return(0,s.p5)((i,r,a)=>Promise.all(n.map((n,i)=>{var r,o;return a.accountConnectBandwidthDataLayers({id:e,limit:t,from:null===(r=n.from)||void 0===r?void 0:r.getTime(),to:null===(o=n.to)||void 0===o?void 0:o.getTime()}).then(e=>({from:n.from,to:n.to,data:e.data.data}))})).then(t=>{i(I(e,t))}))}let U=(0,a.x)("bandwidth",h,{key:"slug",handler:(e,t)=>{switch(t.type){case c:return e.set(u(t.payload,"bandwidthUsageDomains"),(0,i.fromJS)(t.payload.bandwidth));case l:return e.set(u(t.payload,"bandwidthUsageDomainsHistoric"),(0,i.fromJS)(t.payload.bandwidth));case d:return e.set(u(t.payload,"bandwidthUsageDomainsRanking"),(0,i.fromJS)(t.payload.bandwidth));case g:return e.set(u(t.payload,"bandwidthUsageConnect"),(0,i.fromJS)(t.payload.bandwidth));case p:return e.set(u(t.payload,"bandwidthUsageConnectHistoric"),(0,i.fromJS)(t.payload.bandwidth));case f:return e.set(u(t.payload,"bandwidthUsageConnectRanking"),(0,i.fromJS)(t.payload.bandwidth));default:return null}}});function D(e,t){var n;return null===(n=e.bandwidth)||void 0===n?void 0:n.get(u({id:t},"bandwidthUsageDomainsHistoric"))}function T(e,t){var n;return null===(n=e.bandwidth)||void 0===n?void 0:n.get(u({id:t},"bandwidthUsageDomainsRanking"))}function A(e,t){var n;return null===(n=e.bandwidth)||void 0===n?void 0:n.get(u({id:t},"bandwidthUsageConnectHistoric"))}function L(e,t){var n;return null===(n=e.bandwidth)||void 0===n?void 0:n.get(u({id:t},"bandwidthUsageConnectRanking"))}},41547:(e,t,n)=>{n.d(t,{Ks:()=>y,Uc:()=>v,VT:()=>U,gg:()=>R,nY:()=>P,oF:()=>C,ot:()=>_,xm:()=>w,y_:()=>b});var i=n(88601),r=n(36181),a=n(48238),o=n(49207),s=n(13743);let u="PAYMENT_PROVIDER_TOKEN",c="PAYMENT_PROVIDER_TOKEN_SECURE_DECISION",l="BILLING_SUMMARY_SUCCESS",d="ACCOUNT_SUBSCRIPTIONS_SUCCESS",g="ACCOUNT_INVOICES_SUCCESS",p=((0,r.Z)("BILLING_SUCCESS",e=>e),(0,r.Z)(u,e=>e)),f=(0,r.Z)(c,e=>e),h=(0,r.Z)(l,e=>e),m=(0,r.Z)(d,(e,t)=>({id:e.get("id"),subscriptions:t})),S=(0,r.Z)(g,(e,t)=>({id:e.get("id"),invoices:t}));function _(e){return t=>{t(f(e))}}function y(e){return(t,n)=>{t((0,o.i6)(e)),t((0,s.p5)((t,n,i)=>i.accountBillingSummary(e.get("slug")).then(e=>t(h(e.data))))),t((0,s.p5)((t,n,i)=>i.accountSubscriptions(e.get("slug")).then(n=>t(m(e,n.data))))),t((0,s.p5)((t,n,i)=>i.accountInvoices(e.get("slug"),{pending:!0}).then(n=>t(S(e,n.data)))))}}function v(e,t){return(0,s.p5)((n,i,r)=>{let a=w(i()),o=C(i(),e,t,a);return n(p(null)),r.paymentProviderToken(o).then(e=>(e.data.sandbox=!!o.sandbox,e.data.enterpriseException=!!o.enterpriseException,e.data.secure=!!o.secure,n(p(e.data)),e.data))})}function I(e,t){return -1*e.base.toString().localeCompare((!!t.base).toString())||(e.site_domain||e.site_name||"").localeCompare(t.site_domain||t.site_name||"")||(e.site_id||"").localeCompare(t.site_id||"")||(e.title||"").localeCompare(t.title||"")}function E(e){return!!e.base||!!e.amount||!("bandwidth"===e.product_name.toLowerCase()||/usage/i.test(e.title)||0===e.quantity&&e.charges.every(e=>0===e.quantity))}function b(e=(0,i.Map)(),t){switch(t.type){case l:return e.set(t.payload.id,(0,i.fromJS)(t.payload));case d:return e.set(`${t.payload.id}-subscriptions`,(0,i.fromJS)(t.payload.subscriptions.filter(E).sort(I)));case g:return e.set(`${t.payload.id}-invoices`,(0,i.fromJS)(t.payload.invoices));case u:return e.set("paymentProviderToken",t.payload);case c:return e.set("paymentProviderTokenSecure",t.payload);default:return e}}function w(e){return e.billing&&e.billing.get("paymentProviderTokenSecure")}function P(e){return e?(e.get("payments_gateway_name")||"").startsWith("zuora")?"zuora":"braintree":"zuora"}function C(e,t,n,i){let r=P(t),o=(0,a.qC)(t);return{provider:r,sandbox:n,secure:i,accountId:t&&t.get("id"),enterpriseException:o}}function R(e,t){let n=e.billing.get(t.get("id"));return n&&n.merge({subscriptions:e.billing.get(`${t.get("id")}-subscriptions`),invoices:e.billing.get(`${t.get("id")}-invoices`)})}function U(e){if(e)return(0,s.p5)((t,n,i)=>i.payBalance(e.get("id")).then(()=>{t((0,o.i6)(e))}))}},63400:(e,t,n)=>{n.d(t,{KA:()=>E,Yk:()=>I,_E:()=>y,g8:()=>S,lm:()=>_,mJ:()=>v});var i=n(45546),r=n(88601),a=n(36181),o=n(13743);let s="BLOB_FETCHING_SET",u="BLOBS_FETCHING",c="BLOBS_SUCCESS",l="BLOB_STORES_SUCCESS",d=(0,a.Z)(s,({siteId:e,store:t,prefix:n,blobKey:i},r)=>({siteId:e,store:t,prefix:n,blobKey:i,isFetching:r})),g=(0,a.Z)(u,(e,t,n)=>({siteId:e,store:t,prefix:n})),p=(0,a.Z)(c,(e,t,n,i)=>({siteId:e,store:t,data:n,prefix:i})),f=(0,a.Z)(l,(e,t)=>({siteId:e,data:t})),h=".ROOT.",m=".STORES.";function S(e=(0,r.Map)(),t){switch(t.type){case l:{let{siteId:n,data:i}=t.payload;return e.setIn(["entities",n,m],i)}case s:{let{siteId:n,store:i,prefix:a,blobKey:o,isFetching:s}=t.payload,u=a||h,c=e.getIn(["entities",n,i,u,"data"]),l=(0,r.fromJS)(c.blobs).update(c.blobs.findIndex(e=>e.key===o),e=>e.set("isFetching",s));return e.setIn(["entities",n,i,u,"data"],{directories:c.directories,blobs:l.toJS()})}case u:{let{siteId:n,store:i,prefix:r}=t.payload;if(!r)return e.setIn(["entities",n,i,h,"isFetching"],!0);return e.setIn(["entities",n,i,r,"isFetching"],!0)}case c:{let{siteId:n,store:i,data:r,prefix:a}=t.payload;if(!a)return e.setIn(["entities",n,i,h,"isFetching"],!1).setIn(["entities",n,i,h,"data"],r);return e.setIn(["entities",n,i,a,"isFetching"],!1).setIn(["entities",n,i,a,"data"],r)}default:return e}}function _(e,t,n,r){let a=e.get("id");return(0,o.p5)(async(e,o,s)=>{e(d({siteId:a,store:t,prefix:n,blobKey:r},!0));let u=await s.blob(a,t,r);await (0,i.saveAs)(u.data.url,r),e(d({siteId:a,store:t,prefix:n,blobKey:r},!1))})}function y(e,t,n=""){let i=e.get("id");return(0,o.p5)((e,r,a)=>(e(g(i,t,n)),a.blobs(i,t,n).then(r=>{e(p(i,t,r.data,n))})))}function v(e){let t=e.get("id");return(0,o.p5)((e,n,i)=>i.listBlobStores(t).then(n=>{var i;e(f(t,null===(i=n.data)||void 0===i?void 0:i.stores))}))}function I(e,t,n,i){let r=i||h,{blobs:a,directories:o}=e.blobs.getIn(["entities",t,n,r,"data"],{blobs:[],directories:[]});return{blobs:a,directories:o,isFetching:e.blobs.getIn(["entities",t,n,r,"isFetching"])}}function E(e,t){return e.blobs.getIn(["entities",t,m])}},26433:(e,t,n)=>{n.d(t,{$T:()=>c,Bt:()=>o,HN:()=>u,Kr:()=>l,xF:()=>s});var i=n(26080),r=n(13743);let a=(0,i.P)("buildHooks"),o=(0,i.x)("buildHooks",a);function s(e){return(0,r.p5)((t,n,i)=>i.buildHooks(e.get("id")).then(n=>t(a.buildHooksSuccess(e.get("id"),n.data,n.pagination))))}function u(e,t){return(0,r.p5)((n,i,r)=>r.addBuildHook(e.get("id"),{title:t.get("title"),branch:t.get("branch")}).then(t=>n(s(e))))}function c(e,t){return(0,r.p5)((n,i,r)=>r.removeBuildHook(e.get("id"),t.get("id")).then(t=>n(s(e))))}function l(e,t){let n=t&&e.buildHooks.getIn(["pages",t.get("id"),"ids"]);return n&&n.map(t=>e.buildHooks.getIn(["entities",t]))}},6010:(e,t,n)=>{n.d(t,{$1:()=>R,DF:()=>O,Hg:()=>Z,MZ:()=>z,UL:()=>F,ej:()=>D,fO:()=>M,pO:()=>N,qJ:()=>T,t9:()=>L,tb:()=>k,wr:()=>$,x6:()=>A});var i=n(88601),r=n(36181),a=n(26080),o=n(33622),s=n(13743);let u="BUILD_STATUS_SUCCESS",c="BUILD_STATUS_PER_SITE_SUCCESS",l="BUILDS_PER_DAY_SUCCESS",d="BUILD_QUEUE_BUMP_REQUEST",g="BUILD_QUEUE_BUMP_SUCCESS",p="BUILD_QUEUE_BUMP_FAILURE",f="WS_BUILD_CREATED",h="WS_BUILD_MODIFIED",m="WS_BUILD_DELETED",S=(0,r.Z)(u,(e,t)=>({id:e.get("id"),data:t})),_=(0,r.Z)(c,(e,t)=>({id:e.get("id"),data:t})),y=(0,r.Z)(l,(e,t)=>({id:e.get("id"),data:t})),v=(0,r.Z)(d,e=>({buildId:e})),I=(0,r.Z)(g,e=>({buildId:e})),E=(0,r.Z)(p,(e,t)=>({buildId:e,error:t})),b=(0,r.Z)(f,e=>e),w=(0,r.Z)(h,e=>e),P=(0,r.Z)(m,e=>e),C=(0,a.P)("builds"),R=(0,a.x)("builds",C,{handler:(e,t)=>{let{type:n,payload:r}=t;switch(n){case u:return e.set(r.id,(0,i.fromJS)(r.data));case c:return e.set(`${r.id}-per-site`,(0,i.fromJS)(r.data));case l:return e.set(`${r.id}-per-day`,(0,i.fromJS)(r.data));case d:{let{buildId:t}=r;return e.withMutations(e=>{e.setIn(["entities",t,"isPushing"],!0).setIn(["entities",t,"errorOnQueueBump"],null)})}case g:{let{buildId:t}=r;return e.setIn(["entities",t,"isPushing"],!1)}case p:{let{buildId:t,error:n}=r;return e.withMutations(e=>{e.setIn(["entities",t,"errorOnQueueBump"],(0,i.fromJS)(n)).setIn(["entities",t,"isPushing"],!1)})}case f:return(0,o.qK)(e,r);case h:return(0,o.Rt)(e,r);case m:return(0,o.GM)(e,r);default:return null}}});function U(e){return e.get("id")}function D(e,t={},n=!1){let i=U(e);return(0,s.p5)((r,a,o)=>(n&&r(C.buildsRequest(i)),o.accountBuilds(e.get("slug"),t).then(e=>r(C.buildsSuccess(i,e.data,e.pagination)))))}function T(e){return(0,s.p5)((t,n,i)=>i.accountBuildStatus(e.get("slug")).then(n=>t(S(e,n.data))))}function A(e,t){return(0,s.p5)((n,i,r)=>(n(v(t)),r.accountBuildQueueBump(e.get("slug"),t).then(()=>n(I(t))).catch(e=>{throw n(E(t,e)),e})))}function L(e,t){return e.builds.get(t.get("id"))}function k(e){return(0,s.p5)((t,n,i)=>i.accountBuildStatusPerSite(e.get("slug")).then(n=>t(_(e,n.data))))}function F(e,t){return e.builds.get(`${t.get("id")}-per-site`)}function Z(e){return(0,s.p5)((t,n,i)=>i.accountBuildsPerDay(e.get("slug")).then(n=>{t(y(e,n.data))}))}function M(e,t){return e.builds.get(`${t.get("id")}-per-day`)}function N(e,t){if(function(e,t){let n=O(e,t);return n&&n.get("isFetching")}(e,t))return null;let n=e.builds.getIn(["pages",U(t),"ids"]);return n&&n.map(t=>(function(e,t){let n=e.builds.getIn(["entities",t]);return n&&n.set("build_id",n.get("id"))})(e,t))}function O(e,t){return e.builds.getIn(["pages",U(t)])}let $=(e,t)=>n=>{let{page:r,account_id:a}=t;if(1===r){let t=U((0,i.fromJS)({id:a}));n(b(e.set("listKey",t)))}},z=(e,t)=>n=>{let r=U((0,i.fromJS)({id:t.account_id}));n("deleted"===e.get("state")?P(e.set("listKey",r)):w(e.set("listKey",r)))}},23418:(e,t,n)=>{n.d(t,{AB:()=>d,Bm:()=>l,Dj:()=>c,X1:()=>g,rE:()=>p});var i=n(88601),r=n(36181),a=n(13743),o=n(69165);let s="CERTIFICATE_SUCCESS",u=(0,r.Z)(s,(e,t)=>({siteId:e,certificate:t}));function c(e){return(0,a.p5)((t,n,i)=>{let r=e.get("id");return i.certificate(r).then(e=>t(u(r,e.data)))})}function l(e,t,n){return(0,a.p5)((i,r,a)=>{let s=e.get("id");return t.force_ssl?i((0,o.L3)(e,t)):a.updateSsl(s,t,n).then(({data:t})=>(t&&i(u(s,t)),(!t||n)&&setTimeout(t=>i(c(e)),3e4),i((0,o.EQ)(e.get("name")))))})}function d(e){let t=e.get("id");return(0,a.p5)((e,n,r)=>r.verifySsl(t).then(e=>(0,i.fromJS)(e.data)))}function g(e=(0,i.Map)(),t){return t.type===s?e.set(t.payload.siteId,(0,i.fromJS)(t.payload.certificate)):e}function p(e,t){return t.get("ssl")&&e.certificates.get(t.get("id"))}},81041:(e,t,n)=>{n.d(t,{Ji:()=>c,TZ:()=>l,rF:()=>o,vc:()=>s,vv:()=>u});var i=n(88601),r=n.n(i);let a="UPDATE_CONFIG";function o(e){return{type:a,payload:e}}function s(e=r().Map(),t){return t.type===a?e.merge(t.payload):e}function u(e){let t=e.config.get("apiBase");return t&&t.replace(/\/api\/v\d\/?$/,"")}function c(e){return e.config.get("siteId")}function l(e){return e.config.get("githubAppId")}},78254:(e,t,n)=>{n.d(t,{$L:()=>s,Y9:()=>u,gg:()=>c,iQ:()=>l});var i=n(26080),r=n(13743);let a="createProjects",o=(0,i.P)(a),s=(0,i.x)(a,o,{key:"siteId"});function u(e,t){var n;return null===(n=e.createProject.getIn(["entities",t]))||void 0===n?void 0:n.toJS()}function c(e,t){return e.createProject.getIn(["entities",t,"isFetching"])}function l({siteId:e}){return(0,r.p5)((t,n,i)=>(t(o.createProjectRequest(e)),i.getProjects(e).then(n=>{var i,r;return t(o.createProjectSuccess({...null!==(r=null===(i=n.data)||void 0===i?void 0:i[0])&&void 0!==r?r:{},siteId:e}))}).catch(n=>{t(o.createProjectFailure(e,n))})),{type:"create-api"})}},45686:(e,t,n)=>{n.d(t,{C0:()=>l,qh:()=>u,t6:()=>c});var i=n(88601),r=n(36181),a=n(13743);let o="DEPLOY_ACTIVITY_SUCCESS",s=(0,r.Z)(o,e=>e);function u(e,t){var n;return null===(n=e.deployActivity.getIn(["data"]))||void 0===n?void 0:n.toJS()}function c(e){return(0,a.p5)((t,n,i)=>Promise.all([i.deployActivity(e),i.fetchPullRequest(e)]).then(e=>t(s(function([e,t]){let n=e.data.filter(e=>"comment"===e.type).map(e=>e.service_comment_id),i=t.data.comments.filter(({body:e,id:t})=>!!e&&!n.includes(String(t)));return e.data.concat(i.map(e=>({type:"comment",comment:e})))}(e)))).catch(e=>new a.Hx(e)))}let l=(e=(0,i.Map)(),t)=>t.type===o?e.set("data",(0,i.fromJS)(t.payload)):e},20732:(e,t,n)=>{n.d(t,{A:()=>o,bO:()=>s,f$:()=>u});var i=n(26080),r=n(13743);let a=(0,i.P)("deployCommitters"),o=(0,i.x)("deployCommitters",a,{key:"deployId"});function s(e,t){var n;return null===(n=e.deployCommitters.getIn(["entities",t,"data",0]))||void 0===n?void 0:n.toJS()}function u(e,t){return(0,r.p5)((n,i,o)=>o.inviteCommitter(e,t).then(e=>{n(a.inviteCommittersSuccess(e.data))}).catch(e=>new r.Hx(e)))}},3866:(e,t,n)=>{n.d(t,{Mi:()=>h,RR:()=>f,ox:()=>p,qN:()=>d,rK:()=>g});var i,r=n(88601),a=n(36181),o=n(13743);!function(e){e.DEPLOY_PLUGIN_RUNS_REQUEST="DEPLOY_PLUGIN_RUNS_REQUEST",e.DEPLOY_PLUGIN_RUNS_SUCCESS="DEPLOY_PLUGIN_RUNS_SUCCESS",e.DEPLOY_PLUGIN_RUNS_FAILURE="DEPLOY_PLUGIN_RUNS_FAILURE"}(i||(i={}));let s=(0,a.Z)("DEPLOY_PLUGIN_RUNS_REQUEST",e=>e),u=(0,a.Z)("DEPLOY_PLUGIN_RUNS_SUCCESS",(e,t)=>({deployId:e,deployPluginRuns:t})),c=(0,a.Z)("DEPLOY_PLUGIN_RUNS_FAILURE",(e,t)=>({deployId:e,error:t})),l=e=>e.reduce((e,t)=>(e.get(t.state)?e.set(t.state,e.get(t.state).push(t.package)):e.set(t.state,(0,r.List)([t.package]))).set("all",e.get("all").push(t.package)),(0,r.Map)({all:(0,r.List)()}));function d(e=(0,r.Map)(),t){switch(t.type){case"DEPLOY_PLUGIN_RUNS_REQUEST":return e.setIn([t.payload,"isFetching"],!0);case"DEPLOY_PLUGIN_RUNS_SUCCESS":{let{deployId:n,deployPluginRuns:i}=t.payload;return e.withMutations(e=>{i.forEach(t=>{e.setIn([n,"data",t.package],(0,r.fromJS)(t))}),e.setIn([n,"listByState"],l(i)).setIn([n,"isFetching"],!1)})}case"DEPLOY_PLUGIN_RUNS_FAILURE":{let{deployId:n,error:i}=t.payload;return e.setIn([n,"error"],(0,r.fromJS)(i)).setIn([n,"isFetching"],!1)}default:return e}}function g(e){return(0,o.p5)((t,n,i)=>(t(s(e)),i.deployPluginRuns(e).then(n=>t(u(e,n.data))).catch(n=>t(c(e,n)))))}function p(e,t){var n;return t?null===(n=e.deployPluginRuns.get(t))||void 0===n?void 0:n.get("error"):void 0}function f(e,t){var n;return t?null===(n=e.deployPluginRuns.get(t))||void 0===n?void 0:n.get("data"):void 0}function h(e,t){var n;return t?null===(n=e.deployPluginRuns.get(t))||void 0===n?void 0:n.get("listByState"):void 0}},12711:(e,t,n)=>{n.d(t,{$z:()=>l,CJ:()=>d,Ed:()=>g,LS:()=>p,SK:()=>f});var i,r=n(88601),a=n(36181),o=n(13743);!function(e){e.DEPLOY_SUMMARY_REQUEST="DEPLOY_SUMMARY_REQUEST",e.DEPLOY_SUMMARY_SUCCESS="DEPLOY_SUMMARY_SUCCESS",e.DEPLOY_SUMMARY_FAILURE="DEPLOY_SUMMARY_FAILURE"}(i||(i={}));let s=(0,a.Z)("DEPLOY_SUMMARY_REQUEST",e=>e),u=(0,a.Z)("DEPLOY_SUMMARY_SUCCESS",(e,t)=>({deployId:e,deploySummary:t})),c=(0,a.Z)("DEPLOY_SUMMARY_FAILURE",(e,t)=>({deployId:e,error:t}));function l(e=(0,r.Map)(),t){switch(t.type){case"DEPLOY_SUMMARY_REQUEST":return e.setIn([t.payload,"isFetching"],!0);case"DEPLOY_SUMMARY_SUCCESS":{let{deployId:n,deploySummary:i}=t.payload;return e.setIn([n,"data"],(0,r.fromJS)(i)).setIn([n,"isFetching"],!1)}case"DEPLOY_SUMMARY_FAILURE":{let{deployId:n,error:i}=t.payload;return e.setIn([n,"error"],(0,r.fromJS)(i)).setIn([n,"isFetching"],!1)}default:return e}}function d(e){return(0,o.p5)((t,n,i)=>(t(s(e)),i.deploySummary(e).then(n=>t(u(e,n.data))).catch(n=>t(c(e,n)))))}function g(e,t){var n,i;return null!==(i=null===(n=e.deploySummary.get(t))||void 0===n?void 0:n.get("isFetching"))&&void 0!==i&&i}function p(e,t){var n;return null===(n=e.deploySummary.get(t))||void 0===n?void 0:n.get("error")}function f(e,t){var n;return null===(n=e.deploySummary.get(t))||void 0===n?void 0:n.get("data")}},55678:(e,t,n)=>{n.d(t,{$e:()=>q,Bn:()=>$,E:()=>T,FN:()=>z,H1:()=>R,JN:()=>L,Kr:()=>Z,LT:()=>O,N2:()=>A,Nw:()=>E,Oh:()=>K,Q7:()=>F,cS:()=>P,dk:()=>Q,e5:()=>b,ey:()=>C,hh:()=>j,il:()=>M,kR:()=>B,lZ:()=>k,li:()=>J,ly:()=>H,mh:()=>V,pU:()=>Y,rQ:()=>X,tQ:()=>G,tk:()=>W,vQ:()=>x});var i=n(88601),r=n(42881),a=n(95390),o=n(36181),s=n(26080),u=n(33622),c=n(13743),l=n(69165);let d="SET_BUILD_TIME",g="DELETE_DEPLOY_SUCCESS",p="WS_DEPLOY_CREATED",f="WS_DEPLOY_MODIFIED",h="WS_DEPLOY_DELETED";function m(e){return new Date(e).setMilliseconds(0)}let S=(0,o.Z)(d,(e,t,n)=>({id:e.get("id"),start:m(t),end:m(n)})),_=(0,o.Z)(g,e=>({deployId:e})),y=(0,o.Z)(p,e=>e),v=(0,o.Z)(f,e=>e),I=(0,o.Z)(h,e=>e),E=(0,s.P)("deploys"),b=(0,s.x)("deploys",E,{handler:(e,t)=>{let{type:n,payload:r}=t;switch(n){case d:return e.set(r.id,(0,i.fromJS)({build_time:{start:r.start,end:r.end,seconds:(r.end-r.start)/1e3}}));case g:let{deployId:a}=r;return e.withMutations(e=>{e.delete("pages"),e.deleteIn(["entities",a]),e.delete(a)});case p:return(0,u.qK)(e,r);case f:return(0,u.Rt)(e,r);case h:return(0,u.GM)(e,r);default:return null}}}),w="SET_DEPLOY_FILES",P=(0,o.Z)(w,(e,t)=>({deployId:e,files:t})),C=(e=(0,i.Map)(),t)=>t.type===w?e.setIn(["entities",t.payload.deployId],t.payload.files):e;function R(e,t){return e.deployFiles.getIn(["entities",t])}let U={state:"pending_review"};function D(e,t={}){return[e.get("id"),t.filter||"",t.state||"",t.page||1].join("-")}function T(e,t,n){return S(e,t,n)}function A(e){return(0,c.p5)((t,n,i)=>i.deploy(e).then(i=>(t(E.deploySuccess(i.data)),j(n(),e))))}function L(e,t={}){return(0,c.p5)((n,i,r)=>(n(E.deploysRequest(D(e,t))),r.deploys(e.get("id"),t).then(i=>n(E.deploysSuccess(D(e,t),i.data,i.pagination)))))}function k(e,t={}){let n={...t,perPage:100,minimal:!0},i=[];return(0,c.p5)((t,r,a)=>{let o=(e,n)=>a.deploys(e.get("id"),n).then(r=>{var a;return(i.push(...r.data),null===(a=r.pagination)||void 0===a?void 0:a.next)?(n.page=r.pagination.next,o(e,n)):(delete n.page,t(E.deploysSuccess(D(e,n),i,[])))});return o(e,n)})}function F(e){return L(e,U)}function Z(e,t={}){return(0,c.p5)((n,i,r)=>Promise.all([n(L(e,t)),n(F(e))]))}function M(e,t){let n=e.get("id");return(0,c.p5)((i,r,o)=>o.triggerDeploy(n,t).then(t=>{i((0,a.VF)(`/sites/${e.get("name")}/deploys/${t.data.deploy_id}`))}))}function N(e,t,n){let i=t.get("id"),r=e.get("name");return(0,c.p5)((e,t,a)=>n(a,i).then(t=>e(E.deploySuccess(t.data))).then(()=>e((0,l.EQ)(r))))}function O(e,t){return N(e,t,(e,t)=>e.publishDeploy(t))}function $(e,t){return N(e,t,(e,t)=>e.lockDeploy(t))}function z(e,t){return N(e,t,(e,t)=>e.unlockDeploy(t))}function J(e,t){return N(e,t,(e,t)=>e.cancelDeploy(t))}function x(e,t){let n=null==t?void 0:t.get("id");return(0,c.p5)((e,t,i)=>i.deleteDeploy(n).then(()=>e(_(n))))}function B(e,t,n){let i=t.get("id"),a=e.get("name");return(0,c.p5)((e,t,o)=>o.retryDeploy(i,n).then(()=>r.mW.push(`/sites/${a}/deploys`)))}function Y(e){return(0,c.p5)((t,n,i)=>i.acceptDeploy(e).then(e=>t(E.deploySuccess(e.data))))}function G(e){return(0,c.p5)((t,n,i)=>i.rejectDeploy(e).then(e=>t(E.deploySuccess(e.data))))}function K(e,t,n){let{perPage:i}=n,r=e.deploys.getIn(["pages",D(t,n),"ids"]),a=r&&r.map(t=>j(e,t));return a&&i?a.take(i):a}function q(e,t,n){var i;return null===(i=e.deploys)||void 0===i?void 0:i.getIn(["pages",D(t,n),"isFetching"])}function H(e,t,n){return e.deploys.getIn(["pages",D(t,n)])}function j(e,t){let n=e.deploys.getIn(["entities",t]);return n&&n.merge(e.deploys.get(t))}function V(e,t){return K(e,t,U)}function Q(e,t){return(K(e,t,{filter:t.getIn(["build_settings","repo_branch"])})||(0,i.List)()).first()}let W=(e,t)=>n=>{if(1===(t.page||1)){let r=D((0,i.fromJS)({id:e.get("site_id")}),t);n(y(e.set("listKey",r)))}},X=(e,t)=>n=>{let r=D((0,i.fromJS)({id:e.get("site_id")}),t);n("deleted"===e.get("state")?I(e.set("listKey",r)):v(e))}},47976:(e,t,n)=>{n.d(t,{TB:()=>g,h5:()=>h,kr:()=>S,m:()=>p,od:()=>_,pZ:()=>f,ul:()=>m});var i=n(36181),r=n(26080),a=n(13743);let o="DNS_RECORD_CREATED",s="DNS_RECORD_DELETED",u="DNS_RECORDS_CLEAR_PAGES",c=(0,r.P)("dnsRecords"),l=(0,i.Z)(o,(e,t)=>({domain:e,id:t})),d=(0,i.Z)(s,(e,t)=>({domain:e,id:t})),g=(0,i.Z)(s,e=>({domain:e})),p=(0,i.Z)(u);function f(e){return(0,a.p5)((t,n,i)=>i.dnsRecords(e).then(({data:n,pagination:i})=>t(c.dnsRecordsSuccess(e,n,i))))}function h(e,t){return(0,a.p5)((n,i,r)=>r.createDnsRecord(e.get("name"),t).then(({data:t})=>{n(c.dnsRecordSuccess(t)),n(l(e.get("name"),t.id))}))}function m(e,t){return(0,a.p5)((n,i,r)=>r.destroyDnsRecord(e.get("name"),t.get("id")).then(i=>n(d(e.get("name"),t.get("id")))))}let S=(0,r.x)("dnsRecords",c,{handler:(e,t)=>{switch(t.type){case o:return e.updateIn(["pages",t.payload.domain,"ids"],e=>e.push(t.payload.id));case s:return e.updateIn(["pages",t.payload.domain,"ids"],e=>e.filter(e=>e!==t.payload.id)).deleteIn(["entities",t.payload.id]);case"DNS_RECORDS_DELETED":return e.deleteIn(["pages",t.payload.domain]);case u:return e.delete("pages");default:return null}}});function _(e,t){let n=e.dnsRecords.getIn(["pages",t,"ids"]);return n&&n.map(t=>e.dnsRecords.getIn(["entities",t]))}},36568:(e,t,n)=>{n.d(t,{Aw:()=>E,BC:()=>P,Fg:()=>Z,Go:()=>L,HJ:()=>C,Hw:()=>z,RY:()=>R,Rr:()=>$,S4:()=>A,XP:()=>M,aL:()=>w,dI:()=>O,db:()=>b,gi:()=>T,jx:()=>k,q:()=>N,ql:()=>D,rG:()=>F,x8:()=>U});var i=n(88601),r=n(36181),a=n(26080),o=n(59973),s=n(46919),u=n(13743),c=n(35812),l=n(47976),d=n(69165);function g(e){return e&&e.get("slug")||null}let p="DNS_VERIFIED",f="DNSZONE_DELETED",h="DNSZONES_CLEAR_PAGES",m="DOMAIN_TOGGLE_AUTO_RENEW",S=(0,a.P)("dnsZones"),_=(0,r.Z)(p,(e,t)=>({domain:e,results:t})),y=(0,r.Z)(f,e=>({domain:e})),v=(0,r.Z)(h),I=(0,r.Z)(m);function E(e,t){let n=g(e);return(0,u.p5)((e,i,r)=>r.dnsZones(n,t).then(t=>e(S.dnsZonesSuccess(n,t.data,t.pagination))))}function b(e){let t=g(e),n=[],i=async(e,r=1)=>e.dnsZones(t,r).then(t=>{var r;let a=null==t?void 0:null===(r=t.pagination)||void 0===r?void 0:r.next;return(t.data&&n.push(...t.data),a)?i(e,a):n});return(0,u.p5)((e,n,r)=>i(r).then(n=>e(S.dnsZonesSuccess(t,n))))}function w(e){return(0,u.p5)((t,n,i)=>i.dnsZone(e).then(({data:n})=>{t(S.dnsZoneSuccess(n)),t((0,l.pZ)(e))}).catch(n=>404===n.code||401===n.code?t(S.dnsZoneSuccess({name:e,error:n})):Promise.reject(n)).then(t=>M(n(),e)))}function P(e,{account:t,site:n}){return(0,u.p5)((i,r,a)=>(i((0,l.m)()),a.dnsZone(e).then(({data:e})=>e.account_id!==(t&&t.get("id"))?Promise.reject(new o.Z("must be unique")):(i(S.dnsZoneSuccess(e)),i((0,l.pZ)(e.name)),M(r(),e.name))).catch(r=>{switch(r.code){case 404:return i(function(e,{account:t,site:n}){return(0,u.p5)((i,r,a)=>a.createDnsZone(e,t.get("slug"),{site_id:n&&n.get("id")}).then(({data:e})=>(i(S.dnsZoneSuccess(e)),i((0,l.pZ)(e.name)),i(v()),M(r(),e.name))))}(e,{account:t,site:n}));case 401:return Promise.reject(new o.Z("must be unique"));default:return Promise.reject(r)}})))}function C(e,{account:t,site:n}){let i=n&&n.get("id");return(0,u.p5)((r,a,o)=>o.buyDomain(e,t.get("id"),i).then(({data:e})=>(r(w(e.domain)),i&&r((0,d.EQ)(n.get("name"))),{data:e})))}function R(e,{account:t}){return(0,u.p5)((n,i,r)=>r.searchDomain(e,t.get("id")).then(({data:e})=>e))}function U(e,t){return(0,u.p5)((t,n,i)=>i.destroyDnsZone(e.get("id")).then(n=>{let i=e.get("name");t(y(i)),t((0,l.TB)(i))}))}function D(e,t){return(0,u.p5)((n,i,r)=>{let a=e.get("name");return r.transferDnsZone(a,{account_id:e.get("account_id"),transfer_account_id:t.get("id"),transfer_user_id:(0,c.HF)(i()).get("id")}).then(e=>n(w(a)))})}function T(e,t){return(n,i)=>n((0,d.L3)(e,t))}function A(e,t){let n=e.get("name"),i=e.get("account_id");return(0,u.p5)((e,r,a)=>a.toggleDomainAutoRenew(n,i,t).then(()=>e(I({domain:n,autorenew:t}))))}function L(e,t){return(n,i)=>{let r=!t&&O(i(),e);return r&&r.getIn(["results",0,"result"])?Promise.resolve(r):fetch(`/.netlify/functions/verify?domain=${e}`).then(e=>e.json().then(t=>e.ok?t:Promise.reject(new o.Z(t||{})))).then(t=>n(_(e,t))).catch(t=>(0,s.hh)(e).then(t=>{let{subdomain:n,domain:i,tld:r}=t||{},a=t?`${i}.${r}`:e,o=[e];return t&&!n?o.push(`www.${a}`):"www"===n&&o.push(a),{root:a,subdomain:n,results:o.map(e=>({domain:e,result:!1,error:"We couldn’t resolve the domain. Request timed out"}))}}).then(t=>n(_(e,t)))).then(()=>O(i(),e))}}function k(e){return(t,n)=>{let i=e.get("custom_domain");return i?t(L(i)):Promise.resolve()}}let F=(0,a.x)("dnsZones",S,{key:"name",handler:(e,t)=>{switch(t.type){case p:return e.set(t.payload.domain,(0,i.fromJS)(t.payload.results));case f:return e.deleteIn(["entities",t.payload.domain]).delete("pages");case h:return e.delete("pages");case m:return e.setIn(["entities",t.payload.domain,"domain","auto_renew"],t.payload.autorenew);default:return null}}});function Z(e,t){let n=e.dnsZones.getIn(["pages",g(t),"ids"]);return n&&n.map(t=>M(e,t))}function M(e,t){let n=e.dnsZones.getIn(["entities",t]);return n&&n.get("id")?n.set("records",(0,l.od)(e,t)):n}function N(e,t){return e.dnsZones.getIn(["pages",g(t)])}function O(e,t){return e.dnsZones.get(t)}function $(e){return(0,u.p5)((t,n,i)=>i.enableDnsZoneIPv6(e.get("id")).then(({data:n})=>{t(S.dnsZoneSuccess(n)),t((0,l.pZ)(e.get("name")))}))}function z(e,t){return(0,u.p5)((t,n,i)=>i.enableDedicatedDns(e.get("id")).then(({data:e})=>{t(S.dnsZoneSuccess(e))}))}},73082:(e,t,n)=>{n.d(t,{y:()=>a});var i=n(88601),r=n(17479);function a(e=(0,i.Map)(),t){switch(t.type){case r.sz:return(0,i.Map)({active:!0});case r.Bs:return(0,i.Map)({active:!1});default:return e}}},17479:(e,t,n)=>{n.d(t,{Bs:()=>p,QS:()=>C,Te:()=>b,Tu:()=>w,Xs:()=>h,ag:()=>R,f$:()=>f,sz:()=>g,ws:()=>P});var i=n(95390),r=n(36181),a=n(49207),o=n(61004),s=n(66083),u=n(13743),c=n(35812),l=n(69165),d=n(31316);let g="START_DRAG",p="END_DRAG",f=(0,r.Z)(g),h=(0,r.Z)(p),m=()=>(0,o.le)("drop-token"),S=e=>(0,o.D$)("drop-token",e),_=()=>(0,o.le)("dropSiteName"),y=e=>(0,o.D$)("dropSiteName",e),v=e=>!!(0,c.HF)(e()),I=e=>(t,n)=>{let i=(0,a.uW)(n()),r=(0,s.fd)(i)&&(null==i?void 0:i.get("slug"));return t((0,l.UJ)(r)).then(n=>{let i="true"===(0,o.le)("nf-drop-force-anon");return t((0,l.mV)(n,e,i))})},E=e=>(0,u.p5)((t,n,r)=>r.dropToken().then(e=>e.data.token).then(t=>r.dropFiles((0,l.CJ)(e),t).then(e=>({token:t,deploy:e.data}))).then(({token:t,deploy:n})=>(0,l.Pr)(r,n,e,t).then(()=>r.waitForSiteDeploy(n.subdomain)).then(e=>({token:t,site:e.data}))).then(({site:e,token:n})=>{S(n),y(e.name),t(l.Nw.siteSuccess(e)),t((0,l.wM)(e.name)),t((0,i.VF)(`/drop/${e.name}`)),b()})),b=()=>{(0,o.e8)("dropDeployId"),(0,o.e8)("dropUploadInterrupted")},w=()=>{(0,o.e8)("dropSiteName"),(0,o.e8)("drop-token"),b()},P=e=>(t,n)=>t(v(n)?I(e):E(e)),C=(e,t=m())=>(0,u.p5)((n,r,a)=>{if(!v(r)){let e=`/signup?next=${window.location.pathname}&utm_campaign=drop`;return n((0,d.Ee)(e))}let{name:o,id:s,claimed:u}=e.toJS(),c=`/sites/${o}`;return u?n((0,i.VF)(c)):a.dropClaim(s,t).then(()=>n((0,l.EQ)(o))).then(()=>{w(),n((0,i.VF)(c))}).catch(()=>{})}),R=()=>{let e=m(),t=_();if(e&&t)return(0,u.p5)((n,i,r)=>{n((0,l.EQ)(t)).then(()=>{let{id:a,claimed:o}=(0,l.lH)(i(),t,!1).toJS();if(o){w();return}return r.dropClaim(a,e).then(()=>n((0,l.EQ)(t))).then(()=>{w()})})})}},1605:(e,t,n)=>{n.d(t,{$7:()=>f,Oi:()=>p,gI:()=>c,m9:()=>g,wQ:()=>d});var i=n(88601),r=n(26080),a=n(95559),o=n(13743);let s="edgeFunctionLogs",u=(0,r.P)(s),c=(0,r.x)(s,u,{getKey:(e,t)=>`${e.ts}-${e.requestId}-${t}`});function l(e,t={}){return[e,t.cursor||"",t.q||"",t.from||"",t.to||""].filter(Boolean).join("-")}function d(e,t,n={}){let i=e.edgeFunctionLogs.getIn(["pages",l(t,n),"ids"]);return i&&i.map(t=>(function(e,t){let n=e.edgeFunctionLogs.getIn(["entities",t]);return n&&n.merge(e.edgeFunctionLogs.get(t))})(e,t))}function g(e,t,n){return!!e.edgeFunctionLogs.getIn(["pages",l(t,n),"isFetching"])}function p(e,t,n){return e.edgeFunctionLogs.getIn(["pages",l(t,n),"next"])}function f(e,t){let n={cursor:t.cursor,q:t.q,from:t.from,to:t.to};return(0,a.wi)((r,a,s)=>{let c=l(e,n);return r(u.edgeFunctionLogsRequest(c)),s.historicalEdgeFunctionLogs({site_id:e,from:t.from,to:t.to,next_cursor:t.next_cursor,search:t.q}).then(n=>{let o=d(a(),e,t)||(0,i.List)(),s=o?[...o.toJS(),...n.data.logs]:n.data.logs;return r(u.edgeFunctionLogsSuccess(c,s,n.pagination))}).catch(e=>new o.Hx(e))})}},35489:(e,t,n)=>{n.d(t,{Fl:()=>c,O9:()=>u,kZ:()=>l});var i=n(88601),r=n(36181),a=n(13743);let o="EDGE_FUNCTIONS_SUCCESS",s=(0,r.Z)(o,(e,t)=>({deployId:e,data:t}));function u(e){return(0,a.p5)((t,n,i)=>i.edgeFunctions(e).then(n=>{t(s(e,n.data))}))}function c(e=(0,i.Map)(),t){if(t.type===o){let{deployId:n,data:{edge_functions:i}}=t.payload;return e.setIn(["entities",n],i)}return e}function l(e,t){return e.edgeFunctions.get("entities")?e.edgeFunctions.get("entities").get(t):[]}},3558:(e,t,n)=>{n.d(t,{C7:()=>d,M2:()=>g,Y0:()=>S,_I:()=>m,aw:()=>h,bJ:()=>f,f6:()=>p,jB:()=>l,wB:()=>c,wY:()=>u});var i=n(88601),r=n(26080),a=n(13743);let o="environmentVariables",s=(0,r.P)(o),u=(0,r.x)(o,s,{key:"key"});function c(e,t){return e.environmentVariables.getIn(["pages",t,"ids"],(0,i.List)()).map(t=>e.environmentVariables.getIn(["entities",t]).toJS()).toJS()}function l(e,t){return e.environmentVariables.getIn(["pages",t,"isFetching"])}function d(e,t){return e.environmentVariables.getIn(["pages",t,"error"])}function g({accountId:e,siteId:t,scope:n,context:i,merge:r}){return(0,a.p5)((a,o,u)=>(a(s.environmentVariablesRequest(t||e)),u.getEnvVars({accountId:e,siteId:t,scope:n,context:i,merge:r}).then(n=>a(s.environmentVariablesSuccess(t||e,n.data,n.pagination))).catch(n=>{Promise.reject(n),a(s.environmentVariablesFailure(t||e,n))})))}function p({accountId:e,siteId:t,envVars:n}){return(0,a.p5)((i,r,a)=>a.createEnvVars({accountId:e,siteId:t,envVars:n}).then(n=>i(g({accountId:e,siteId:t}))).catch(e=>Promise.reject(e)))}function f({accountId:e,siteId:t,oldKey:n,newKey:i,is_secret:r,scopes:o,values:s}){return(0,a.p5)((a,u,c)=>c.updateEnvVar({accountId:e,siteId:t,oldKey:n,newKey:i,is_secret:r,scopes:o,values:s}).then(n=>a(g({accountId:e,siteId:t}))).catch(e=>Promise.reject(e)))}function h({accountId:e,siteId:t,envVars:n}){return(0,a.p5)((i,r,a)=>Promise.all(n.map(n=>a.updateEnvVar({accountId:e,siteId:t,oldKey:n.key,newKey:n.key,is_secret:n.is_secret,scopes:n.scopes,values:n.values}))).then(n=>i(g({accountId:e,siteId:t}))).catch(e=>Promise.reject(e)))}function m({accountId:e,siteId:t,envVars:n}){return(0,a.p5)((i,r,a)=>Promise.all(n.flatMap(n=>n.values.map(({context:i,context_parameter:r,value:o})=>a.setEnvVarValue({accountId:e,siteId:t,key:n.key,context:i,context_parameter:r,value:o})))).then(n=>i(g({accountId:e,siteId:t}))).catch(e=>Promise.reject(e)))}function S({accountId:e,siteId:t,key:n,id:i}){return(0,a.p5)((r,a,o)=>o.deleteEnvVar({accountId:e,siteId:t,key:n,id:i}).then(n=>r(g({accountId:e,siteId:t}))).catch(e=>Promise.reject(e)))}},25868:(e,t,n)=>{n.d(t,{$f:()=>f,Al:()=>p,Co:()=>_,DD:()=>u,DS:()=>S,Hg:()=>s,K3:()=>c,Ki:()=>h,mv:()=>d,u5:()=>m,y6:()=>l});var i=n(13743),r=n(26080),a=n(69165);let o=(0,r.P)("accountFirewallRuleSets"),s=(0,r.x)("accountFirewallRuleSets",o,{key:"account_id"});function u(e,t){var n;return!t||null===(n=e.accountFirewallRuleSets.getIn(["entities",t,"isFetching"]))||void 0===n||n}function c(e,t){if(t)return e.accountFirewallRuleSets.getIn(["entities",t,"data"])}function l(e){return(0,i.p5)((t,n,i)=>(t(o.accountFirewallRuleSetRequest(e)),i.accountFirewallRuleSet(e).then(n=>{t(o.accountFirewallRuleSetSuccess({data:n.data,account_id:e}))}).catch(n=>{(null==n?void 0:n.code)===404&&t(o.accountFirewallRuleSetSuccess({account_id:e,data:void 0}))})))}function d(e,t){return(0,i.p5)((n,i,r)=>r.updateAccountFirewallRuleSet(e,t).then(()=>{n(l(e))}))}let g=(0,r.P)("siteFirewallRuleSets"),p=(0,r.x)("siteFirewallRuleSets",g,{key:"site_id"});function f(e,t){var n;let i=(0,a.lH)(e,t);return!i||null===(n=e.siteFirewallRuleSets.getIn(["entities",i.get("site_id"),"isFetching"]))||void 0===n||n}function h(e,t){let n=(0,a.lH)(e,t);if(n)return e.siteFirewallRuleSets.getIn(["entities",n.get("site_id"),"data"])}function m(e){return(0,i.p5)((t,n,i)=>{let r=(0,a.lH)(n(),e);if(!r)return;let o=r.get("site_id");return t(g.siteFirewallRuleSetRequest(o)),i.siteFirewallRuleSet(o).then(e=>t(g.siteFirewallRuleSetSuccess({data:e.data,site_id:o}))).catch(e=>{if((null==e?void 0:e.code)===404)return t(g.siteFirewallRuleSetSuccess({data:void 0,site_id:o}))})})}function S(e,t){return(0,i.p5)((n,i,r)=>{let o=(0,a.lH)(i(),e).get("site_id");return r.updateSiteFirewallRuleSet(o,t).then(()=>{n(m(e))})})}function _(e){return(0,i.p5)((t,n,i)=>{let r=(0,a.lH)(n(),e).get("site_id");return i.deleteSiteFirewallRuleSet(r).then(()=>{t(m(e))})})}},52694:(e,t,n)=>{n.d(t,{$d:()=>E,A:()=>d,Hk:()=>u,Jo:()=>m,Rg:()=>v,XL:()=>h,cJ:()=>f,cY:()=>o,dI:()=>p,jn:()=>c,jy:()=>_,kk:()=>I,lO:()=>y,pJ:()=>S,zH:()=>g});var i=n(26080),r=n(13743);let a=(0,i.P)("forms"),o=(0,i.x)("forms",a),s=(0,i.P)("submissions"),u=(0,i.x)("submissions",s);function c(e,t={page:1,perPage:20}){let n=e.get("id");return(0,r.p5)((e,i,r)=>(e(a.formsRequest(n)),r.siteForms(n,t).then(t=>e(a.formsSuccess(n,t.data,t.pagination)))))}function l(e,t={}){return t.formId?t.formId:`site-${e.get("id")}`}function d(e,t){let n=e.get("id");return(0,r.p5)((i,r,a)=>(i(c(e)),a.formSubmissions(n,t).then(n=>i(s.submissionsSuccess(l(e,t),n.data,n.pagination))).catch(n=>i(s.submissionsFailure(l(e,t),n.error)))))}function g(e,t,n){let i=e.get("id");return(0,r.p5)((r,a,o)=>Promise.all(t.map(e=>o.deleteFormSubmission(i,e))).then(t=>r(d(e,n))))}function p(e,t){let n=e.get("id");return(0,r.p5)((e,i,r)=>r.deleteForm(n,t))}function f(e,t,n){let i=e.get("id");return(0,r.p5)((r,a,o)=>Promise.all(t.map(e=>o.markSubmissionAsHam(i,e))).then(t=>{r(d(e,n))}))}function h(e,t,n){let i=e.get("id");return(0,r.p5)((r,a,o)=>Promise.all(t.map(e=>o.markSubmissionAsSpam(i,e))).then(t=>{r(d(e,n))}))}function m(e,t){let n=e.forms.getIn(["pages",t.get("id"),"ids"]);return n&&n.map(t=>e.forms.getIn(["entities",t]))}function S(e,t){var n;return null===(n=e.forms)||void 0===n?void 0:n.getIn(["pages",t.get("id"),"isFetching"])}function _(e,t){return e.forms.getIn(["entities",t])}function y(e,t){return e.forms.getIn(["pages",t.get("id")])}function v(e,t,n){let i=e.submissions.getIn(["pages",l(t,n),"ids"]);return i&&i.map(t=>e.submissions.getIn(["entities",t]))}function I(e,t,n){return e.submissions.getIn(["pages",l(t,n),"error"])}function E(e,t,n){return e.submissions.getIn(["pages",l(t,n)])}},29465:(e,t,n)=>{n.d(t,{X4:()=>f,ZF:()=>p,lf:()=>g,rm:()=>d,tZ:()=>c});var i=n(88601),r=n(26080),a=n(95559),o=n(13743);let s="functionLogs",u=(0,r.P)(s),c=(0,r.x)(s,u,{getKey:(e,t)=>`${e.ts}-${e.requestId}-${t}`});function l(e,t,n={}){return[e,t,n.branch||"",n.cursor||"",n.q||"",n.from||"",n.to||""].filter(Boolean).join("-")}function d(e,t,n,i={}){let r=e.functionLogs.getIn(["pages",l(t,n,i),"ids"]);return r&&r.map(t=>(function(e,t){let n=e.functionLogs.getIn(["entities",t]);return n&&n.merge(e.functionLogs.get(t))})(e,t))}function g(e,t,n,i){return!!e.functionLogs.getIn(["pages",l(t,n,i),"isFetching"])}function p(e,t,n,i){return e.functionLogs.getIn(["pages",l(t,n,i),"next"])}function f(e,t,n){let r={branch:n.branch,cursor:n.cursor,q:n.q,from:n.from,to:n.to};return(0,a.wi)((a,s,c)=>{let g=l(e,t,r);return a(u.functionLogsRequest(g)),c.historicalFunctionLogs({site_id:e,name:t,branch:n.branch,from:n.from,to:n.to,next_cursor:n.next_cursor,search:n.q}).then(r=>{let o=d(s(),e,t,n)||(0,i.List)(),c=o?[...o.toJS(),...r.data.logs]:r.data.logs;return a(u.functionLogsSuccess(g,c,r.pagination))}).catch(e=>new o.Hx(e))})}},4513:(e,t,n)=>{n.d(t,{Bc:()=>g,Ph:()=>c,ob:()=>p,wk:()=>l,x0:()=>d});var i=n(88601),r=n(36181),a=n(13743);let o="FUNCTIONS_SUCCESS",s=(0,i.fromJS)({id:"empty",functions:[]}),u=(0,r.Z)(o,(e,t,n)=>({siteId:e,scope:t,data:n}));function c(e,t){let n=e.get("id");return(0,a.p5)((e,i,r)=>r.functions(n,t).then(i=>{e(u(n,t,i.data))}))}function l(e=(0,i.Map)(),t){if(t.type===o){let{siteId:n,scope:r="default",data:a}=t.payload,o=a&&a.id?(0,i.fromJS)(a):s;return e.setIn(["entities",o.get("id")],o).setIn(["pages",n,r],o.get("id"))}return e}function d(e,t,n){n=n||"default";let i=e.functions.getIn(["pages",t.get("id"),n]);return i&&e.functions.getIn(["entities",i])}function g(e,t,n){let i=d(e,t,n);return i&&i.get("functions").map(e=>e.set("c",e.get("c")||i.get("created_at")))}function p(e,t,n,i){let r=g(e,t,n);return r&&r.find(e=>e.get("n")===i)}},3643:(e,t,n)=>{n.d(t,{$_:()=>m,Cl:()=>f,Fq:()=>S,Gu:()=>E,HN:()=>w,Kd:()=>_,L4:()=>v,Lb:()=>P,YR:()=>y,fc:()=>p,oI:()=>I,qq:()=>b,z8:()=>C});var i=n(88601),r=n(36181),a=n(22186),o=n(31459),s=n(49207),u=n(35812);let c="GIT_SET_PROVIDER",l="GIT_SET_SEARCH_TERM",d="GIT_SET_USER",g=(0,r.Z)("GIT_NO_PROVIDER"),p=(0,r.Z)(c,(e,t)=>({provider:e,credentials:t})),f=(0,r.Z)(l,e=>e),h=(0,r.Z)(d,e=>e);function m(e){return(t,n)=>{let i=(0,o.Ev)(n());return i?e(t,n,i):t(g())}}function S(e,t){let n=!1;return"github-proxied"===e&&(e=a.Lz.github,n=!0),(i,r)=>{let a=r().git,s=a&&e===a.get("provider")?(0,o.Wx)(e,a.get("accessToken"),a.get("apiEndpoint")):(0,o.Wx)(e);return s?(n&&(s.root="/.netlify/functions/git"),t(i,r,s)):i(g())}}function _(){return m((e,t,n)=>n.user().then(n=>(e(h(n.data)),C(t()))))}function y(e){return(t,n)=>t((0,u.YR)(e)).then(()=>t(_()))}function v(e=(0,i.Map)(),t){switch(t.type){case c:let n={provider:t.payload.provider,accessToken:t.payload.credentials.token};return t.payload.credentials.refresh_token&&(n.refreshAccessToken=t.payload.credentials.refresh_token),t.payload.credentials.api_endpoint&&(n.apiEndpoint=t.payload.credentials.api_endpoint),(0,i.fromJS)(n);case l:return e.set("search",t.payload);case d:return e.set("user",(0,i.fromJS)(t.payload));default:return e}}function I(e){return e.git.get("provider")}function E(e){return e.git.get("accessToken")}function b(e){return e.git.get("apiEndpoint")}function w(e){if("bitbucket_self_hosted"===e.git.get("provider"))return(0,s.uW)(e).getIn(["bitbucket_self_hosted_config","instance_url"])}function P(e){return e.git.get("search")}function C(e){return e.git.get("user")}},85631:(e,t,n)=>{n.d(t,{Ht:()=>s,YX:()=>u,hi:()=>o,wc:()=>c});var i=n(26080),r=n(3643);let a=(0,i.P)("gitOrganizations");function o(){return(0,r.$_)((e,t,n)=>{e(a.gitOrganizationsRequest(n.provider));let i=t().git.getIn(["user","login"]);n.organizations({userLogin:i}).then(t=>e(a.gitOrganizationsSuccess(n.provider,t.data,t.pagination)),t=>e(a.gitOrganizationsFailure(n.provider,t)))})}let s=(0,i.x)("gitOrganizations",a,{key:"full_name"});function u(e){let t=(0,r.oI)(e),n=e.gitOrganizations.getIn(["pages",t,"ids"]);return n&&n.map(t=>c(e,t))}function c(e,t){return e.gitOrganizations.getIn(["entities",t])}},372:(e,t,n)=>{n.d(t,{Z:()=>a});let i=new Map,r=async({accountId:e})=>{let t=`/access-control/bb-api/api/v1/accounts/${e}/jwt`,n=await fetch(t,{headers:{"Content-type":"application/json"},credentials:"include"});if(200===n.status)return await n.json();throw Error(`Non-200 status when exchanging API token for short-lived JWT: ${n.status}`)};function a({accountId:e}){let t=i.get(e);if(t&&!("jwt"in t&&t.expiration-3e5<performance.now()))return Promise.resolve(t);let n=r({accountId:e}).then(t=>{let n=t.jwt,r=JSON.parse(atob(n.split(".")[1].replace(/_/g,"/").replace(/-/g,"+"))),a=r.exp-r.iat,o=performance.now()+1e3*a;return i.set(e,{jwt:n,expiration:o}),{jwt:n,expiration:o}}).catch(t=>{throw i.delete(e),t});return i.set(e,n),n}},26080:(e,t,n)=>{n.d(t,{P:()=>o,x:()=>s});var i=n(88601),r=n(86339),a=n(36181);function o(e){let t=(0,r.C5)(e),n=t.toUpperCase(),i=e.toUpperCase(),o={REQUEST:`${n}_REQUEST`,SUCCESS:`${n}_SUCCESS`,FAILURE:`${n}_FAILURE`},s={REQUEST:`${i}_REQUEST`,SUCCESS:`${i}_SUCCESS`,FAILURE:`${i}_FAILURE`},u=(0,a.Z)(o.REQUEST,e=>e),c=(0,a.Z)(o.SUCCESS,e=>e),l=(0,a.Z)(o.FAILURE,(e,t)=>({id:e,error:t})),d=(0,a.Z)(s.REQUEST,e=>e),g=(0,a.Z)(s.SUCCESS,(e,t,n)=>({list:e,entities:t,pages:n})),p=(0,a.Z)(s.FAILURE,(e,t)=>({list:e,error:t}));return{[n]:o,[i]:s,[`${t}Request`]:u,[`${t}Success`]:c,[`${t}Failure`]:l,[`${e}Request`]:d,[`${e}Success`]:g,[`${e}Failure`]:p}}function s(e,t,n={}){let a=(0,r.C5)(e),o=e.toUpperCase(),s=a.toUpperCase();return(e=(0,i.Map)({entities:(0,i.Map)(),pages:(0,i.Map)()}),r)=>{let a=n.handler&&n.handler(e,r);if(a)return a;let u=n.key||"id",c=n.getKey||(e=>e[u]);switch(r.type){case t[s].REQUEST:return e.setIn(["entities",r.payload,"isFetching"],!0);case t[s].SUCCESS:{let t=c(r.payload).toString(),n=e.getIn(["entities",t])||(0,i.Map)();return e.setIn(["entities",t],n.merge(r.payload,{isFetching:!1}))}case t[s].FAILURE:return e.withMutations(e=>{e.setIn(["entities",r.payload.id,"error"],(0,i.fromJS)(r.payload.error)).setIn(["entities",r.payload.id,"isFetching"],!1)});case t[o].REQUEST:return e.setIn(["pages",r.payload,"isFetching"],!0);case t[o].SUCCESS:{let{list:t,entities:n,pages:a}=r.payload;return e.withMutations(e=>{n.forEach((t,n)=>e.setIn(["entities",c(t,n).toString()],(0,i.fromJS)(t).set("isFetching",!1))),e.setIn(["pages",t],(0,i.Map)({...a,ids:(0,i.List)(n.map((e,t)=>c(e,t).toString()))}))})}case t[o].FAILURE:return e.setIn(["pages",r.payload.list,"error"],(0,i.fromJS)(r.payload.error));default:return e}}}},70151:(e,t,n)=>{n.d(t,{$_:()=>d,Bi:()=>c,Eq:()=>g,PT:()=>p,e_:()=>f,ny:()=>l,o6:()=>h,v9:()=>u});var i=n(88601),r=n(26080),a=n(13743);let o=(0,r.P)("hooks"),s="HOOK_TYPES";function u(e){return(0,a.p5)((t,n,i)=>(t(o.hooksRequest(e.get("id"))),i.hooks(e.get("id")).then(n=>t(o.hooksSuccess(e.get("id"),n.data,n.pagination)),n=>t(o.hooksFailure(e.get("id"),n.message)))))}function c(e,t){let n={site_id:e.get("id"),event:t.event,type:t.type,data:t.data,form_id:t.form_id};return(0,a.p5)((t,i,r)=>r.addHook(n).then(n=>{t(u(e))}))}function l(e,t,n){let i=t.get("id");return(0,a.p5)((t,r,a)=>a.updateHook(i,n).then(e=>e.data.disabled?a.enableHook(i):Promise.resolve(e)).then(()=>t(u(e))))}function d(e,t){return(0,a.p5)((n,i,r)=>r.deleteHook(t.get("id")).then(t=>n(u(e))))}function g(e){return(0,a.p5)((t,n,i)=>i.hookTypes(e.get("id")).then(n=>t({type:s,payload:{siteId:e.get("id"),types:n.data}})))}let p=(0,r.x)("hooks",o,{handler:(e,t)=>t.type===s?e.setIn(["types",t.payload.siteId],(0,i.fromJS)(t.payload.types)):null});function f(e,t){let n=e.hooks.getIn(["pages",t.get("id"),"ids"]);return n&&n.map(t=>e.hooks.getIn(["entities",t]))}function h(e,t){return e.hooks.getIn(["types",t.get("id")])}},72546:(e,t,n)=>{n.d(t,{$O:()=>D,EI:()=>P,Ey:()=>L,FJ:()=>R,PO:()=>I,XD:()=>w,bU:()=>T,cG:()=>k,dU:()=>C,dk:()=>v,eO:()=>y,jZ:()=>_,mK:()=>U,mt:()=>A,qD:()=>m,r6:()=>b,yR:()=>S});var i=n(88601),r=n(95390),a=n(36181),o=n(26080),s=n(96971),u=n(13743),c=n(69165);let l="IDENTITY_CREATED",d="IDENTITY_SUCCESS",g=(0,o.P)("identityUsers"),p=(0,a.Z)(l,(e,t)=>({siteId:e,data:t})),f=(0,a.Z)(d,(e,t)=>({siteId:e,data:t})),h=(e,{filter:t})=>`${e}${t?`-${t}`:""}`,m=(0,o.x)("identityUsers",g);function S(e=(0,i.Map)(),t){switch(t.type){case l:case d:return e.set(t.payload.siteId,(0,i.fromJS)(t.payload.data));default:return e}}function _(e,t){return e.identity.get(t.get("id"))}function y(e,t){return e.identityUsers.getIn(["entities",t])}function v(e,t,n){let i=e.identityUsers.getIn(["pages",h(t.get("id"),n),"ids"]);return i&&i.map(t=>y(e,t))}function I(e,t,n){return e.identityUsers.getIn(["pages",h(t.get("id"),n)])}function E(e,t,n){let i=_(n(),e);return i?Promise.resolve(i):t(b(e)).then(()=>_(n(),e))}function b(e){let t=e.get("id"),n=e.get("identity_instance_id");return(0,u.p5)((e,i,r)=>n?r.identity(t,n).then(n=>e(f(t,n.data))):Promise.resolve())}function w(e,t={}){let n=e.get("id");return(0,u.p5)((i,r,a)=>a.createIdentity(n,t).then(e=>i(p(n,e.data))).then(()=>i((0,c.EQ)(e.get("name")))).then(e=>i((0,c.ZO)(e))))}function P(e,t){let n=e.get("id"),i=e.get("identity_instance_id");return(0,u.p5)((r,a,o)=>i?o.updateIdentity(n,i,t).then(()=>r(b(e))):Promise.reject({code:404}))}function C(e){let t=e.get("id"),n=e.get("identity_instance_id");return(0,u.p5)((i,r,a)=>n?a.deleteIdentity(t,n).then(()=>i((0,c.EQ)(e.get("name")))):Promise.resolve())}function R(e,t={}){let n=e.get("id"),i=e.get("identity_instance_id");return(0,u.p5)((e,r,a)=>i?a.identityUsers(n,i,t).then(i=>e(g.identityUsersSuccess(h(n,t),i.data,i.pagination))).catch(i=>404===i.code?e(g.identityUsersSuccess(h(n,t),[],{})):Promise.reject(i)):Promise.resolve())}function U(e,t){let n=e.get("id"),i=e.get("identity_instance_id");return(0,u.p5)((r,a,o)=>i?E(e,r,a).then(()=>o.identityUser(n,i,t).then(e=>r(g.identityUserSuccess(e.data)))):Promise.reject({code:404}))}function D(e,t){let n=e.get("id"),i=e.get("identity_instance_id");return(0,u.p5)((r,a,o)=>o.createIdentityUser(n,i,t).then(t=>r(R(e))))}function T(e,t,n){let r=e.get("id"),a=e.get("identity_instance_id"),o=t.get("id");return(0,u.p5)((t,s,c)=>(t(function(e,t){let n=t&&t.app_metadata&&t.app_metadata.roles;return(0,u.p5)((t,r,a)=>n&&n.length?E(e,t,r).then(r=>{if(!r)return;let a=(0,i.Set)(r.getIn(["external_attributes","roles"])),o=a.merge(n);o.size>a.size&&t(P(e,{external_attributes:{roles:o}}))}):Promise.resolve())}(e,n)),c.updateIdentityUser(r,a,o,n).then(()=>t(U(e,o)))))}function A(e,t){let n=e.get("id"),i=e.get("identity_instance_id"),a=t.get("id");return(0,u.p5)((t,o,u)=>u.deleteIdentityUser(n,i,a).then(()=>t(R(e))).then(()=>t((0,r.VF)((0,s.DD)(e,"identity")))))}function L(e,t){let n=e.get("id"),i=e.get("identity_instance_id"),r=t.get("id");return(0,u.p5)((e,t,a)=>a.sendIdentityRecovery(n,i,r))}function k(e,t){let n=e.get("id"),i=e.get("identity_instance_id");return(0,u.p5)((r,a,o)=>o.sendIdentityInvites(n,i,{invites:t}).then(()=>r(R(e))))}},88852:(e,t,n)=>{n.d(t,{Hi:()=>u,Y5:()=>c,bo:()=>d,iK:()=>l});var i=n(26080),r=n(13743);let a=(0,i.P)("identityAudits"),o=({siteId:e,searchTerm:t}={})=>`${e}${t?`-${t}`:""}`,s=e=>e.map(e=>(e&&e.payload&&e.payload.log_type&&(e.payload.log_type=`gotrue-${e.payload.log_type}`),e)),u=(0,i.x)("identityAudits",a);function c(e,t){let n=e.identityAudit.getIn(["pages",o(t),"ids"]);return n&&n.map(t=>e.identityAudit.getIn(["entities",t]))}function l(e,t){return e.identityAudit.getIn(["pages",o(t)])}function d(e){return(0,r.p5)((t,n,i)=>e.identityId&&e.isValidKey?i.identityAudit(e).then(n=>t(a.identityAuditsSuccess(o(e),s(n.data),n.pagination))).catch(n=>404===n.code?t(a.identityAuditsSuccess(o(e),[],{})):Promise.reject(n)):Promise.resolve())}},85031:(e,t,n)=>{n.d(t,{V2:()=>s,Yx:()=>u,rI:()=>c,uX:()=>l});var i=n(26080),r=n(13743);let a=(0,i.P)("largeMediaAssets"),o=(e,{filter:t})=>`${e}${t?`-${t}`:""}`,s=(0,i.x)("largeMediaAssets",a);function u(e,t){let n=e.get("id"),i=e.get("use_lm");return(0,r.p5)((e,r,s)=>i?s.largeMediaAssets(n,t).then(i=>e(a.largeMediaAssetsSuccess(o(n,t),i.data,i.pagination))):Promise.resolve())}function c(e,t,n){let i=e.largeMediaAssets.getIn(["pages",o(t.get("id"),n),"ids"]);return i&&i.map(t=>e.largeMediaAssets.getIn(["entities",t]))}function l(e,t,n){return e.largeMediaAssets.getIn(["pages",o(t.get("id"),n)])}},32831:(e,t,n)=>{n.d(t,{GO:()=>l,Lf:()=>s,SK:()=>d,V4:()=>f,X5:()=>g,b_:()=>u,cU:()=>c,vR:()=>p});var i=n(26080),r=n(13743);let a="logDrains",o=(0,i.P)(a),s=(0,i.x)(a,o);function u(e,t){var n,i;let[r]=(null===(n=e.logDrains.getIn(["pages",t,"ids"]))||void 0===n?void 0:n.toJS())||[];return null===(i=e.logDrains.getIn(["entities",r]))||void 0===i?void 0:i.toJS()}function c(e,t){return e.logDrains.getIn(["pages",t,"isFetching"])}function l(e){return(0,r.p5)((t,n,i)=>(t(o.logDrainsRequest(e)),i.logDrains(e).then(n=>{(n.data||[]).forEach(e=>{let{url:t,integration_name:n}=e.service_config;t&&new URL(t).host.endsWith(".sumologic.com")&&(e.destination="sumologic"),n&&(e.destination=n)}),t(o.logDrainsSuccess(e,n.data))})))}function d(e,t={}){return(0,r.p5)((n,i,r)=>r.createLogDrain(e,t).then(t=>{n(o.logDrainsSuccess(e,[t.data]))}))}function g(e,t,n){return(0,r.p5)((i,r,a)=>a.verifyLogDrain(e,t,n).then(()=>{let t={...u(r(),e),verified:!0};i(o.logDrainsSuccess(e,[t]))}))}function p(e,t,n={}){return(0,r.p5)((i,r,a)=>a.updateLogDrain(e,t,n).then(t=>{i(o.logDrainsSuccess(e,[t.data]))}))}function f(e,t){return(0,r.p5)((n,i,r)=>r.deleteLogDrain(e,t).then(()=>{n(o.logDrainsSuccess(e,[]))}))}},48579:(e,t,n)=>{n.d(t,{Ol:()=>c,Tq:()=>l,ad:()=>d,el:()=>u});var i=n(95390),r=n(26080),a=n(49207),o=n(13743);let s=(0,r.P)("members");function u(e){let t=e.get("id");return(0,o.p5)((e,n,i)=>(e(s.membersRequest(t)),i.members(t).then(n=>e(s.membersSuccess(t,n.data,n.pagination)))))}function c(e){return(0,o.p5)((t,n,r)=>r.acceptInvite(e).then(e=>{e.data.site_id?t((0,i.VF)(`/sites/${e.data.name}`)):t((0,a.vP)()).then(()=>t((0,i.VF)(`/teams/${e.data.slug}`)))}))}let l=(0,r.x)("members",s);function d(e,t){let n=e.members.getIn(["pages",t.get("id"),"ids"]);return n&&n.map(t=>e.members.getIn(["entities",t]))}},3751:(e,t,n)=>{n.d(t,{Af:()=>l,B_:()=>d,Fd:()=>g,NK:()=>f,Vy:()=>h,WU:()=>m,jJ:()=>c,sv:()=>p});var i=n(88601),r=n(13743),a=n(35812);let o="MULTIFACTOR_AUTH_SETUP",s="MULTIFACTOR_AUTH_ENABLE",u="MULTIFACTOR_AUTH_DISABLE";function c(e=(0,i.fromJS)({}),t){switch(t.type){case o:return e.merge((0,i.fromJS)({setup:t.payload}));case s:return e.merge((0,i.fromJS)({isEnabled:!0,recoveryCodes:t.payload}));case u:return e.merge((0,i.fromJS)({isEnabled:!1,recoveryCodes:null}));default:return e}}function l(){return(0,r.p5)(async(e,t,n)=>{let{data:i}=await n.setupMultiFactorAuth();e({type:o,payload:i})})}function d({otp:e,token:t}){return(0,r.p5)(async(n,i,r)=>{let{data:a}=await r.enableMultiFactorAuth({otp:e,token:t});n({type:s,payload:a.backup_codes})})}function g({otp:e}){return(0,r.p5)(async(t,n,i)=>{let{data:r}=await i.disableMultiFactorAuth({otp:e});t({type:u,payload:r}),t((0,a.$D)({reload:!0}))})}function p({otp:e,token:t}){return(0,r.p5)(async(n,i,r)=>{let{data:a}=await r.verifyLogin({otp:e,token:t});window.location.href=a.redirect_path})}function f(e){let{multiFactorAuth:t}=e;return(null==t?void 0:t.get("setup"))||null}function h(e){let{user:t,multiFactorAuth:n}=e;return!!(null==n?void 0:n.get("isEnabled"))||!!(null==t?void 0:t.get("mfa_enabled"))}function m(e){let{multiFactorAuth:t}=e;return null==t?void 0:t.get("recoveryCodes")}},21609:(e,t,n)=>{n.d(t,{A7:()=>g,N9:()=>m,P$:()=>h,_6:()=>f,oA:()=>d,y9:()=>p});var i=n(88601),r=n(36181),a=n(95045),o=n(59973),s=n(66838),u=n(35812);let c="NOTIFICATIONS_SUCCESS",l=(0,r.Z)(c,e=>e);function d(){return(e,t)=>{fetch("/.netlify/builders/notifications").then(e=>{if(!e.ok)throw Error(`Error fetching notifications - ${e.status} - ${e.statusText}`);return e.json().catch(t=>{throw Error(`Error parsing notifications JSON - ${e.status}`)})}).then(t=>{e(l(t))}).catch(e=>{throw new o.Z(e.message||e)})}}function g(e){return(t,n)=>{let{accounts:i,user:r}=n(),o=e&&e.getIn([0,"updated_at"]);a.iND.appNotificationButtonClicked({accountSlug:i.get("selected"),flagged:new Date(r.getIn(["onboarding_progress","notifications_read_at"]))<new Date(o),notificationNames:e&&e.map(e=>(0,s.lV)(null==e?void 0:e.get("title"))).toJS()}),t((0,u.fq)("notifications_read_at",o))}}function p(e){return(t,n)=>{let{accounts:i}=n();a.iND.appNotificationItemClicked({accountSlug:i.get("selected"),notificationName:(0,s.lV)(e.get("title"))})}}function f(e){return e.notifications.get("data")}function h(e){let t=(0,u.HF)(e);return t&&t.getIn(["onboarding_progress","notifications_read_at"])}let m=(e=(0,i.Map)(),t)=>t.type===c?e.set("data",(0,i.fromJS)(t.payload)):e},57617:(e,t,n)=>{n.d(t,{$6:()=>eP,AN:()=>ea,Ak:()=>eg,Av:()=>W,B2:()=>e_,BX:()=>eb,Ek:()=>K,FV:()=>eh,Fk:()=>es,Hh:()=>j,Hp:()=>ei,IK:()=>F,Ly:()=>x,O1:()=>er,O_:()=>eE,Ov:()=>H,Ox:()=>ew,P6:()=>et,Pk:()=>eu,Q:()=>el,Q2:()=>X,QV:()=>ev,RF:()=>ef,Rp:()=>D,Tz:()=>ec,Ul:()=>M,Vt:()=>N,W2:()=>ey,Wu:()=>J,XQ:()=>ee,Xj:()=>Z,Y3:()=>eC,Yy:()=>eo,_b:()=>$,c3:()=>k,c_:()=>eI,cr:()=>ed,dm:()=>L,g8:()=>em,h1:()=>Y,j6:()=>G,ji:()=>ep,k:()=>T,lI:()=>eS,mT:()=>en,me:()=>q,mf:()=>R,nU:()=>A,p_:()=>V,u2:()=>z,vI:()=>O,v_:()=>B,yK:()=>U,yL:()=>Q});var i=n(62163),r=n.n(i),a=n(88601),o=n(95390),s=n(36181),u=n(26080),c=n(59973),l=n(49207),d=n(13743),g=n(71335),p=n(31316);let f="INVITE_CLEAR_FAILURES",h="INVITE_FAILURE",m=(0,s.Z)(f),S=(0,s.Z)(h),_=(0,u.P)("organizations"),y=(0,u.P)("organizationAccounts"),v=(0,u.P)("organizationMembers"),I=(0,u.P)("organizationInvoices"),E=(0,u.P)("organizationClientToken"),b=(0,u.P)("organizationReceipts"),w=(0,u.P)("organizationSaml"),P=(0,u.P)("organizationScims"),C=(0,u.P)("organizationScimMappings"),R=(0,u.x)("organizations",_,{key:"slug"}),U=(0,u.x)("organizationAccounts",y),D=(0,u.x)("organizationMembers",v,{handler:(e,t)=>{switch(t.type){case f:return e.setIn(["inviteErrors"],(0,a.List)());case h:{let n=e.get("inviteErrors")||(0,a.List)();return e.setIn(["inviteErrors"],n.push(t.payload))}default:return null}}}),T=(0,u.x)("organizationInvoices",I),A=(0,u.x)("organizationReceipts",b,{key:"transaction_id"}),L=(0,u.x)("organizationSaml",w,{key:"list"}),k=(0,u.x)("organizationScim",P),F=(0,u.x)("organizationScimMappings",C);function Z(e){return(0,d.p5)((t,n,i)=>(t(_.organizationRequest(e)),i.organization(e).then(e=>t(_.organizationSuccess(e.data))).catch(n=>t(_.organizationFailure(e,n)))))}function M(e){return(0,d.p5)((t,n,i)=>(t(y.organizationAccountsRequest(e)),i.organizationAccounts(e).then(n=>{t(y.organizationAccountsSuccess(e,n.data))}).catch(n=>t(y.organizationAccountsFailure(e,n)))))}function N(e){return(0,d.p5)((t,n,i)=>(t(v.organizationMembersRequest(e)),i.organizationMembers(e).then(n=>{t(v.organizationMembersSuccess(e,n.data))}).catch(n=>t(v.organizationMembersFailure(e,n)))))}function O(e){return(0,d.p5)((t,n,i)=>(t(I.organizationInvoicesRequest(e)),i.organizationInvoices(e).then(n=>t(I.organizationInvoicesSuccess(e,n.data))).catch(n=>t(I.organizationInvoicesFailure(e,n)))))}function $(e){return(0,d.p5)((t,n,i)=>(t(b.organizationReceiptsRequest(e)),i.organizationReceipts(e).then(n=>t(b.organizationReceiptsSuccess(e,n.data))).catch(n=>t(b.organizationReceiptsFailure(e,n)))))}function z(e){return(0,d.p5)((t,n,i)=>(t(E.organizationClientTokenRequest(e)),i.organizationClientToken(e).then(n=>(n.data.organization_id=e,t(E.organizationClientTokenSuccess(e,n.data)),n.data)).catch(n=>t(E.organizationClientTokenFailure(e,n)))))}function J(){return(0,d.p5)((e,t,n)=>(e(_.organizationsRequest("organizations")),n.organizations().then(t=>e(_.organizationsSuccess("organizations",t.data,t.pagination)),t=>e(_.organizationsFailure("organizations",t)))))}function x(e){return(0,d.p5)((t,n,i)=>i.organizationSamlConnection(e).then(n=>(t(w.organizationSamlSuccess(e,n.data)),n.data)))}function B(e){return(0,d.p5)((t,n,i)=>(t(P.organizationScimRequest(e)),i.organizationScimConnection(e).then(n=>{let i=n.data.status||"inactive";return t(P.organizationScimSuccess({id:e,...n.data,status:i}))})))}function Y(e){return(0,d.p5)((t,n,i)=>(t(C.organizationScimMappingRequest(e)),i.organizationScimMappings(e).then(n=>t(C.organizationScimMappingSuccess({id:e,groups:n.data})))))}function G(e){return(0,d.p5)((t,n,i)=>i.organizationSamlDashboard(e).then(({data:e})=>e.workos_portal_url))}function K(e){return(0,d.p5)((t,n,i)=>i.organizationScimDashboard(e).then(({data:e})=>e.workos_portal_url))}function q(e,t){return(0,d.p5)((n,i,r)=>r.organizationScimStatus(e,t).then(()=>{n(B(e))}))}function H(e){return(0,d.p5)((t,n,i)=>i.organizationSamlDeleteConnection(e).then(()=>{t(x(e))}))}function j(e){return e.organizations.getIn(["pages","organizations","ids"],(0,a.List)()).map(t=>en(e,t))}function V(e){return e.organizations.getIn(["pages","organizations","isFetching"])}function Q(e,t){return e.organizations.getIn(["entities",t,"isFetching"])}function W(e,t){var n;return null===(n=e.organizationSaml)||void 0===n?void 0:n.getIn(["entities",t,"entities"])}function X(e,t){var n;return t?null===(n=e.organizationScim)||void 0===n?void 0:n.getIn(["entities",t]):(0,a.fromJS)({scim_configured:!1})}function ee(e,t){var n;return t?null===(n=e.organizationScimMappings)||void 0===n?void 0:n.getIn(["entities",t]):(0,a.fromJS)({groups:[]})}function et(e,t){return e.organizations.getIn(["entities",t,"error"])}function en(e,t){var n,i;let r=null===(n=e.organizations)||void 0===n?void 0:n.getIn(["entities",t]);if(null==r?void 0:r.get("error"))return null;if(r){let t=r.get("id");r=r.merge({accounts:null===(i=(0,l.L3)(e))||void 0===i?void 0:i.filter(e=>e.get("organization_id")===t)})}return r}function ei(e,t){return j(e).find(e=>e.get("id")===t)}function er(e,t){var n;let i=null===(n=e.organizationAccounts)||void 0===n?void 0:n.getIn(["pages",t]),r=null==i?void 0:i.get("ids");return r&&(null==r?void 0:r.size)?r&&r.map(t=>e.organizationAccounts.getIn(["entities",t])):(0,a.List)()}function ea(e,t){return e.organizationAccounts.getIn(["pages",t,"isFetching"])}function eo(e,t){var n;let i=null===(n=e.organizationMembers)||void 0===n?void 0:n.getIn(["pages",t]),r=null==i?void 0:i.get("ids");return r&&(null==r?void 0:r.size)?r&&r.map(t=>e.organizationMembers.getIn(["entities",t])):(0,a.List)()}function es(e){return e.organizationMembers.getIn(["inviteErrors"])}function eu(e,t){var n;let i=null===(n=e.organizationInvoices)||void 0===n?void 0:n.getIn(["pages",t]),r=null==i?void 0:i.get("ids");if(r&&(null==r?void 0:r.size))return r&&r.map(t=>{var n;return null===(n=e.organizationInvoices)||void 0===n?void 0:n.getIn(["entities",t])})}function ec(e,t){var n;return null===(n=e.organizationInvoices)||void 0===n?void 0:n.getIn(["pages",t,"isFetching"])}function el(e,t){var n;let i=null===(n=e.organizationReceipts)||void 0===n?void 0:n.getIn(["pages",t]),r=null==i?void 0:i.get("ids");return r&&(null==r?void 0:r.size)?r&&r.map(t=>{var n;return null===(n=e.organizationReceipts)||void 0===n?void 0:n.getIn(["entities",t])}):null}function ed(e,t){var n;return null===(n=e.organizationReceipts)||void 0===n?void 0:n.getIn(["pages",t,"isFetching"])}function eg(e,t){let n=er(e,t);return null==n?void 0:n.reduce((e,t)=>(e.bandwidth.value+=t.getIn(["bandwidth_usage","used"])||0,e.bandwidth.limit+=t.getIn(["bandwidth_usage","included"])||0,e.buildMinutes.value+=t.getIn(["build_status","minutes","current"])||0,e.buildMinutes.limit+=t.getIn(["build_status","minutes","included_minutes_with_packs"])||0,e.concurrentBuilds.value+=t.getIn(["build_status","active"])||0,e.concurrentBuilds.limit+=t.get("included_concurrent_builds")||0,e.members+=t.get("used_seats")||0,e),{bandwidth:{value:0,limit:0},buildMinutes:{value:0,limit:0},concurrentBuilds:{value:0,limit:0},members:0})}function ep(e,t){let n=e.get("id"),i=e.get("slug");return(0,d.p5)((e,r,a)=>a.organizationCreateAccount(n,t).then(()=>{e(M(n)),e((0,o.VF)(`/organizations/${i}/overview`))}))}function ef(e,t){let n=e.get("id");return(0,d.p5)((e,i,r)=>r.organizationScimAddMapping(n,t).then(()=>{e(Y(n))}))}function eh(e,t){let n=e.get("id"),i=e.get("slug");return(0,d.p5)((e,r,a)=>a.updateOrganization(n,t).then(({data:r})=>{let{logo:o}=t;void 0!==o?a.updateOrganizationLogo(n,o).catch(e=>new c.Z(e)):a.deleteOrganizationLogo(n).catch(e=>new c.Z(e)),e(_.organizationSuccess(r));let{slug:s}=r;s!==i&&e(Z(s)).then(()=>{e((0,p.Ee)(document.location.pathname.replace(`/organizations/${i}/`,`/organizations/${s}/`))),e(J())})}))}function em(e,t){let n=e.get("id");return(0,d.p5)((e,i,o)=>o.updateOrganizationPaymentMethod(n,t.toJS()).then(({data:t})=>(e(g.Nw.paymentMethodSuccess(t)),e((0,g.kC)(t.id)),(0,a.fromJS)(t)),e=>(r().notify(e,e=>{e.context="organizations ﹥ updateOrganizationPaymentMethod"}),Promise.reject(e))))}function eS(e,t){let n=e.get("id");return(0,d.p5)((e,i,r)=>r.organizationScimUpdateMapping(n,t).then(()=>{e(Y(n))}))}function e_(e,t){return(0,d.p5)((n,i,r)=>r.updateOrganizationSecurityContacts(e,t).then(()=>n(Z(e))))}function ey(e){return(0,d.p5)((t,n,i)=>i.deleteOrganizationLogo(e.get("id")).then(()=>{t(Z(e.get("slug")))}).catch(e=>new c.Z(e)))}function ev(e,t){return(0,d.p5)((n,i,r)=>{let s=e.get("id"),u=e.get("slug");return n(m()),Promise.all(t.map(e=>r.inviteOrganizationMember(s,e).catch(t=>{n(S((0,a.fromJS)({email:e,error:t.message})))}))).finally(()=>{n(N(s)),n((0,o.VF)(`/organizations/${u}/overview`))})})}function eI(e,t){let n=e.get("id");return(0,d.p5)((e,i,r)=>r.inviteOrganizationMember(n,t.get("email")).finally(()=>{e(N(n))}))}function eE(){return m()}function eb(e,t){let n=e.get("id"),i=t.get("id");return(0,d.p5)((e,t,r)=>r.deleteOrganizationMember(n,i).then(()=>{e(N(n))}).catch(e=>new c.Z(e)))}function ew(e,t){let n=e.get("id");return(0,d.p5)((e,i,r)=>r.organizationScimDeleteMapping(n,t).then(()=>{e(Y(n))}))}function eP(e){let t=e.get("id");return(0,d.p5)((e,n,i)=>i.organizationScimDeleteConnection(t).then(()=>{e(B(t))}))}function eC(e){let t=e.get("id");return(0,d.p5)((e,n,i)=>i.organizationScimDeleteConnectionKeepingUsers(t).then(()=>{e(B(t))}))}},71335:(e,t,n)=>{n.d(t,{$9:()=>m,BX:()=>h,DY:()=>S,Nw:()=>l,X_:()=>d,kC:()=>p,nS:()=>f});var i=n(62163),r=n.n(i),a=n(88601),o=n(26080),s=n(49207),u=n(13743),c=n(41547);let l=(0,o.P)("paymentMethods"),d=(0,o.x)("paymentMethods",l);function g(e){return(0,u.p5)((t,n,i)=>{let r="zuora"===(0,c.nY)(e)&&e?e.get("id"):"user",a=(0,c.oF)(n(),e);return t(l.paymentMethodsRequest(r)),i.paymentMethods(a).then(e=>t(l.paymentMethodsSuccess(r,e.data,e.pagination)))})}function p(e){return(0,u.p5)((t,n,i)=>e?i.paymentMethod(e).then(e=>t(l.paymentMethodSuccess(e.data))):Promise.resolve())}function f(e){return(null==e?void 0:e.getIn(["user_capabilities","billing","r"]))?p(null==e?void 0:e.get("payment_method_id")):(0,u.p5)(()=>Promise.resolve())}function h(e,t){return(0,u.p5)((n,i,o)=>o.savePaymentMethod(e.toJS()).then(e=>(n(l.paymentMethodSuccess(e.data)),n(g(t)),n((0,s.vP)()),(0,a.fromJS)(e.data)),e=>(r().notify(e,e=>{e.context="paymentMethods ﹥ savePaymentMethod"}),Promise.reject(e))))}function m(e,t){return(0,u.p5)((n,i,r)=>r.removePaymentMethod(e).then(()=>{n(g(t)),n((0,s.vP)())}))}function S(e,t){let n=t&&t.get("payment_method_id");return e.paymentMethods.getIn(["entities",n])}},56268:(e,t,n)=>{n.d(t,{E8:()=>I,GV:()=>l,Gr:()=>p,QK:()=>m,WF:()=>y,bl:()=>h,f6:()=>_,iQ:()=>v}),n(88601);var i=n(36181),r=n(26080),a=n(59973),o=n(13743),s=n(69165);let u={NODE_ENV:"production",VERSION_ID:"65bc9fbbac9f5700085d2f58",SITE_ID:"5f9562c1-be9c-4898-bc6a-5b40de4e1450",CONTEXT:"production",SIFT_BEACON_KEY:"0593578a91",DISABLE_DATADOG_RUM:!1,DATADOG_RUM_APP_ID:"abb8711a-ca04-44e2-bbd6-df0e07a7f3f8",DATADOG_RUM_CLIENT_TOKEN:"pubd771a23f8cb1e4f45f24b5fd37e11a96",DATADOG_RUM_APP_NAME:"netlify-react-ui",DEVCYCLE_CLIENT_SDK_KEY:"dvc_client_7b35e45b_dd67_444b_b114_46804faa770d_ab0f202",MOCK_API:void 0,REACT_APP_QUIET:void 0,REACT_APP_VERSION_ID:"65bc9fbbac9f5700085d2f58",APP_ENV:"prod",NETLIFY_API_BASE:void 0,NETLIFY_GRAPHQL_API_BASE:void 0,ACTION_CABLE_URL:"wss://cablecar.services.netlify.com/cable",BUILD_UTC_TIME:1706860560748,SIGNUP_FORM_REDESIGN_PERCENTAGE:100,STRIPE_IDENTITY_VERIFICATION_PUBLIC_KEY:"pk_live_51LpyGQG2IwkHjCivgYP2UkRPU6g8i2vCYfOjXZzPmMU80Krk4h4iSM264No13KYb0ggw6H5HnBBcPYX11AQhTKpy00PDtz409I",NOTRANSLATE_DEBUG:!1}.PLUGINS_URL_OVERRIDE||"https://list-v2--netlify-plugins.netlify.app/plugins.json",c="DEACTIVATED",l="PLUGIN_INSTALL",d=(0,i.Z)(l,(e,t,n)=>({pluginName:e,siteName:t,status:n})),g=(0,r.P)("plugins"),p=(0,r.x)("plugins",g,{key:"package"}),f=e=>{var t;let n=null===(t=e.compatibility)||void 0===t?void 0:t.filter(e=>!e.featureFlag);return{...e,compatibility:(null==n?void 0:n.length)?n:null}},h=()=>e=>(e(g.pluginsRequest("plugins")),fetch(u).then(e=>{if(!e.ok){let{status:t,statusText:n}=e;throw new a.Z({status:t,statusText:n,message:"Error fetching plugins"})}return e.json()}).then(t=>{let n=t.map(f);return e(g.pluginsSuccess("plugins",n))}).catch(t=>e(g.pluginsFailure("plugins",t))));function m(e,t,n,i=!0){let r=n||[];r.push({package:t});let u={plugins:r};return(0,o.p5)((n,i,r)=>r.updateSite(e.get("id"),u).then(i=>{n(d(t,e.get("name"),"success")),n(s.Nw.siteSuccess(i.data))}).catch(i=>(n(d(t,e.get("name"),"failure")),Promise.reject(new a.Z(i)))))}let S=e=>e.get("status")!==c;function _(e){let t=e.plugins.get("entities");return null==t?void 0:t.filter(S)}function y(e){return e.plugins.getIn(["pages","plugins","isFetching"])}function v(e){return e.plugins.getIn(["pages","plugins","error"])}function I(e,t){return e.plugins.get("entities").find(e=>e&&e.get("package")===t&&e.get("status")!==c)}},47459:(e,t,n)=>{n.d(t,{B$:()=>K,Ce:()=>P,GY:()=>J,I0:()=>x,Pk:()=>b,Qg:()=>D,Wo:()=>q,Wq:()=>m,en:()=>Y,oV:()=>$,pd:()=>E,vD:()=>U,vb:()=>z,yW:()=>G});var i=n(62163),r=n.n(i),a=n(11703),o=n(88601),s=n(86349),u=n.n(s),c=n(36181),l=n(26080),d=n(59973),g=n(12378),p=n(76875),f=n(3643);let h="REPO_LINK_REQUEST",m="REPO_LINK_SUCCESS",S="REPO_LINK_FAILURE",_="REPO_CREATE_FS",y="REPO_ADD_WORKSPACES",v="REPO_MANUAL_CONFIG",I=(0,l.P)("repos"),E=(0,c.Z)(h,e=>e),b=(0,c.Z)(m,e=>e);(0,c.Z)(S,(e,t)=>({full_name:e,error:t}));let w=(0,c.Z)(_,(e,t)=>({fs:e,full_name:t})),P=(0,c.Z)(v,(e,t)=>({full_name:e,manual:t})),C=(0,c.Z)(y,(e,t)=>({workspaces:e,full_name:t})),R=(0,c.Z)("REPO_NO_FS");function U({organization:e,hideGitUser:t,page:n,per_page:i=25,installationId:r}){return(0,f.$_)((a,o,s)=>{if(t&&!e)return Promise.resolve();let u=o(),c=(0,f.z8)(u),l=(0,f.Lb)(u),g=l?s.searchRepos:s.repos;return a(I.reposRequest(e)),g.call(s,{search:l,organization:e,page:n,per_page:i,installationId:r,gitUser:c}).then(t=>a(I.reposSuccess(e,t.data,t.pagination))).catch(e=>{if(s&&"checkErrorForInvalidToken"in s){let t=s.checkErrorForInvalidToken(e);if(t)throw new d.Z(t)}})})}function D(e,t){let n=e.get("api_id"),i=e.get("full_name"),r=e.get("organization_name");return(0,f.$_)((a,o,s)=>s.branches({api_id:n,organization_name:r,page:t}).then(({data:t,pagination:n})=>{a(I.repoSuccess({full_name:i,branches:e.get("branches").push(...t),branchPagination:n}))}))}let T=async({fs:e,repoFiles:t,baseDir:n})=>Promise.allSettled(t.filter(e=>(e=e.replace(n,""),g.yl.includes(e))).map(async t=>{let n=await e.readFile(t);return[t,n]})).then(e=>e.reduce((e,t)=>{if("rejected"===t.status)return e;let[i,r]=t.value;return{...e,[i.replace(n,"")]:r}},{})),A=async(e,t)=>{try{return(await e.readDir(t)).map(n=>e.join(t,n))}catch(e){return[]}},L=e=>e?"/"===e.at(-1)?e:`${e}/`:"";function k(e,t){return t.map(t=>{var n,i,r,a,o;let s=null===(r=e.frameworks)||void 0===r?void 0:null===(i=r.get(t))||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:n.toJSON(),u={path:t,name:null===(o=e.workspace)||void 0===o?void 0:null===(a=o.getPackage(t))||void 0===a?void 0:a.name};return s&&(u.framework={id:s.id,logo:s.logo}),u})}async function F(e,t){let n=e.join(t,"netlify.toml");try{return await e.readFile(n),n}catch{return null}}let Z=["@netlify/plugin-nextjs"],M=(e=[],t=[])=>t.reduce((t,n)=>e.includes(n)&&!Z.includes(n)?t:[...t,{package:n}],[]);async function N({fs:e,dispatch:t,getState:n,configFilePath:i,packagePath:r,baseDir:s,cloningRepo:c=!1,flags:l={}}){var d;if(function(e,t){let n=q(e,t);return(null==n?void 0:n.get("manual"))||!1}(n(),e.details.full_name))return;let g=((null===(d=function(e,t){let n=q(e,t);return(null==n?void 0:n.get("settings"))||(0,o.fromJS)({})}(n(),e.details.full_name))||void 0===d?void 0:d.toJS())||{}).package_path!==r,p=new a.IK(e,g?"":s||"","/").setNodeVersion("18.0.0");p.events.on("detectWorkspaces",n=>{n&&t(C(k(p,(null==n?void 0:n.packages.map(e=>e.path))||[]),e.details.full_name))}),p.events.on("detectSettings",async n=>{var o,c,d,f,h;let m=n.map(({packagePath:e})=>e).filter(Boolean),S=r||(null===(o=n[0])||void 0===o?void 0:o.packagePath);if(null==S?void 0:S.length){n=n.filter(e=>e.packagePath===S);let t=await F(e,S);i=null!=t?t:i}let _=await (0,a.t0)(p,i),y=u()(n[0],_);t(C(k(p,[...new Set(m)]),e.details.full_name)),t(I.repoSuccess({full_name:e.details.full_name,...l.project_druddigon_ui&&{configFilePath:i},settings:{package_path:null==y?void 0:y.packagePath,cmd:null==y?void 0:y.buildCommand,dir:(null===(c=y.baseDirectory)||void 0===c?void 0:c.length)&&(null===(d=y.dist)||void 0===d?void 0:d.length)?e.relative(y.baseDirectory,y.dist):null==y?void 0:y.dist,base:g?y.baseDirectory:null!=s?s:null==y?void 0:y.baseDirectory,plugins:M(y.plugins_from_config_file,y.plugins_recommended),plugins_installed:y.plugins_from_config_file,plugins_recommended:y.plugins_recommended,functions_dir:y.functionsDir,framework:null===(f=y.framework)||void 0===f?void 0:f.id,frameworkName:null===(h=y.framework)||void 0===h?void 0:h.name,template:y.template}}))}),await p.getBuildSettings()}let O=async({fs:e,baseDir:t,configFilePath:n,cloningRepo:i=!1})=>{try{let r=(null==n?void 0:n.length)&&n.endsWith("netlify.toml")?n.replace(/\/?netlify.toml$/,""):t,a=await A(e,r),o=await T({fs:e,repoFiles:a,baseDir:L(r)}),{settings:s,warning:u}=await (0,g.ZP)(a,o,i);return{settings:s,warning:u}}catch(t){return r().notify(t,t=>{var n;t.context="heuristicsForRepoSettings",t.addMetadata("repo",{name:e.details.full_name,branch:e.details.branch,provider:null===(n=e.git)||void 0===n?void 0:n.provider}),t.severity="info"}),{settings:{}}}};function $(e){let t=e.get("api_id"),n=e.get("full_name"),i=e.get("default_branch"),a=e.get("organization_name");return(0,f.$_)(async(e,o,s)=>{let{data:u,pagination:c}=await s.branches({api_id:t,organization_name:a}).catch(t=>{r().notify(t,e=>{e.context="prepareRepo",e.addMetadata("repo",{name:n,branch:i,provider:s.provider}),e.severity="info"}),e(I.repoFailure(n,new d.Z(`We couldn’t access the repository ${n}. This could be because the repository is empty or disabled.`)))});e(w(new p.R(s,{organization_name:a,api_id:t,full_name:n,branch:i}),n)),e(I.repoSuccess({full_name:n,branches:u,branchPagination:c}))})}function z(e,t={}){return B(e,async(e,n,i)=>{let a=i.details.full_name;try{if(null==t?void 0:t.project_rhyhorn_ui)await N({fs:i,getState:n,dispatch:e,flags:t});else{let t=await O({fs:i,baseDir:""});e(I.repoSuccess({full_name:a,...t}))}}catch(t){t instanceof Error&&r().notify(t,e=>{e.context="prepareRepo",e.addMetadata("repo",{name:i,branch:i.details.branch,provider:i.git.provider}),e.severity="info"}),e(I.repoFailure(a,new d.Z(`We couldn’t access the repository ${a}. This could be because the repository is empty or disabled.`)))}})}function J(e,t,n={}){return(t?e=>(0,f.Fq)(t,e):f.$_)((t,n,i)=>(t(I.repoRequest(e)),i.repo(e).then(({data:n})=>O({fs:new p.R(i,{organization_name:n.organization_name,api_id:n.api_id,full_name:e,branch:n.default_branch}),baseDir:"",cloningRepo:!0}).then(e=>t(I.repoSuccess({...n,...e})))).catch(n=>{let i=new d.Z(n);throw t(I.repoFailure(e,i)),i})))}function x(e,t,n={}){return B(e,async(e,i,r)=>{var a;let o=r.details.full_name;return(r.details.branch!==t&&(e(I.repoSuccess({full_name:o,settings:{},workspaces:void 0,configFilePath:void 0})),r.changeBranch(t)),null===(a=n.flags)||void 0===a?void 0:a.project_rhyhorn_ui)?N({fs:r,dispatch:e,getState:i,configFilePath:n.configFilePath,baseDir:n.baseDir,packagePath:n.packagePath,flags:n.flags}):O({fs:r,configFilePath:n.configFilePath,baseDir:n.baseDir||""}).then(t=>e(I.repoSuccess({full_name:o,...t}))).catch(n=>e(I.repoFailure(o,new d.Z(`We couldn’t access the branch ${t} on repository ${o}. This could be because some files have format errors.`))))})}function B(e,t){return async(n,i)=>{let r=q(i(),e.get("full_name")).get("fs");return r?t(n,i,r):n(R())}}let Y=(0,l.x)("repos",I,{key:"full_name",handler:function(e,t){switch(t.type){case h:return e.set("linking",!0).setIn(["entities",t.payload,"linking"],!0);case S:return e.set("linking_error",t.payload.error).setIn(["entities",t.payload.api_id,"link_error"],I.payload.error);case m:return e.set("linking",null).setIn(["entities",t.payload,"linking"],null);case _:return e.setIn(["entities",t.payload.full_name,"fs"],t.payload.fs);case y:return e.updateIn(["entities",t.payload.full_name,"workspaces"],e=>(0,o.fromJS)(function(e=[],t=[]){let n=new Map(e.reduce((e,t)=>e.set(t.path,t),new Map));for(let e of t)n.has(e.path)?n.set(e.path,u()(n.get("w.path"),e)):n.set(e.path,e);return[...n.values()]}(null==e?void 0:e.toJS(),t.payload.workspaces)));case v:let n=e;return t.payload.manual&&(n=n.setIn(["entities",t.payload.full_name,"settings"],(0,o.fromJS)({base:"",cmd:"",package_path:"",dir:""}))),n.setIn(["entities",t.payload.full_name,"manual"],t.payload.manual);default:return null}}});function G(e,t){let n=e.repos.getIn(["pages",t,"ids"]);return n&&n.map(t=>q(e,t))}function K(e,t){return e.repos.getIn(["pages",t])}function q(e,t){return e.repos.getIn(["entities",t])}},93084:(e,t,n)=>{n.d(t,{SE:()=>d,XK:()=>l,Zz:()=>g,e7:()=>f,jW:()=>p,rB:()=>c});var i=n(61004),r=n(53227),a=n(49207),o=n(13743),s=n(35812),u=n(31316);let c="next";function l({account:e,url:t,data:n}){let i=e.get("slug");return(0,o.p5)((e,r,o)=>o.updateSamlConfig(i,t,n).then(t=>e((0,a.Mx)(i))))}function d(e){let t=e.get("slug");return(0,o.p5)((e,n,i)=>i.deleteSamlConfig(t).then(n=>e((0,a.Mx)(t))))}function g(e,t){return(0,o.p5)((n,i,r)=>r.getSamlStartUrl(e).then(e=>{let n=new URL(e.data.sp_start_url);n.searchParams.append("redirect",window.location.origin),n.searchParams.append("tracking_session_id",t),document.location=n.href}))}function p({token:e,slug:t}){return async(n,a)=>{window.location.hash="";let l={access_token:e};await (0,r.sV)({access_token:l.access_token});let d=(0,i.St)(c);(0,i.lD)(c),n(d&&(0,s.Bh)(d)?function({user:e,slug:t,redirect:n}){return(0,o.p5)((t,i,r)=>r.user().then(i=>{e={...i.data,...e},t({type:s.Wb}),t((0,s.pH)(e)),t((0,u.Ee)(n))}))}({user:l,slug:t,redirect:d}):function({user:e,slug:t}){return(0,o.p5)((n,i,r)=>r.user().then(i=>{e={...i.data,...e};let r=t?`/teams/${t}`:"/";n({type:s.Wb}),n((0,s.pH)(e)),n((0,u.Ee)(r))}))}({user:l,slug:t}))}}function f({access_token:e,saml_slug:t}){return async(n,i)=>{window.location.hash="";let a={access_token:e};await (0,r.sV)({access_token:a.access_token}),n((0,s.pH)(a)),n(function({user:e,saml_slug:t}){return(0,o.p5)((n,i,r)=>r.user().then(i=>{e={...i.data,...e};let r=t?`/teams/${t}`:"/";n({type:s.Wb}),n((0,s.pH)(e)),n((0,u.Ee)(r))}))}({user:a,saml_slug:t}))}}},41111:(e,t,n)=>{n.d(t,{Jj:()=>s,OP:()=>o});var i=n(13743),r=n(26080);let a=(0,r.P)("securityKpis"),o=(0,r.x)("securityKpis",a,{key:"name",handler:(e,t)=>{let{type:n,payload:i}=t;switch(n){case a.SECURITYKPIS.REQUEST:return e.withMutations(e=>{e.delete("error").set("entities",i.entities).set("isFetching",!0)});case a.SECURITYKPIS.SUCCESS:return e.withMutations(e=>{e.set("entities",i.entities).set("isFetching",!1)});case a.SECURITYKPIS.FAILURE:return e.withMutations(e=>{e.set("entities",i.entities).set("error",i.error).set("isFetching",!1)});default:return null}}});function s(e){return(0,i.p5)((t,n,i)=>(t(a.securityKpisRequest(e.get("slug"))),i.securityKpis(e.get("slug")).then(n=>t(a.securityKpisSuccess(e.get("slug"),n.data,n.pagination))).catch(n=>{t(a.securityKpisFailure(e.get("slug"),n))})))}},94153:(e,t,n)=>{n.d(t,{$b:()=>u,wT:()=>c});var i=n(59973),r=n(49207),a=n(13743),o=n(69165);let s=(e,t)=>{let n=[],i={instance_url:{gitlab_self_hosted:"There is a problem with your instance URL; please review it.",github_enterprise:"There is a problem with your instance URL; please review it."},app_id:{github_enterprise:"Your app ID and/or private key are incorrect; please review them."},pem_file:{github_enterprise:"Your app ID and/or private key are incorrect; please review them."},client_id:{gitlab_self_hosted:"Your app ID is incorrect; please review it.",github_enterprise:"Your client ID is incorrect; please review it."},client_secret:{gitlab_self_hosted:"Your secret is incorrect; please review it.",github_enterprise:"Your client secret is incorrect; please review it."},webhook_secret:{github_enterprise:"Your webhook secret is incorrect; please review it."}};for(let r of Object.keys(e))i[r]&&n.push(i[r][t]);return n.length?1===n.length?`**Connection failed.** ${n[0]}`:"**Connection failed:** \n\n* "+n.join("\n* "):e},u=(e,t,n)=>{let u=e.get("id"),c=e.get("slug");return(0,a.p5)((e,a,l)=>l.updateSelfHostedGitConfig(u,t,n).then(({data:t})=>{e((0,r.Mx)(c)),e((0,o.KZ)({accountSlug:c}))}).catch(e=>{let t=s(e,n);throw new i.Z(t)}))},c=(e,t)=>{let n=e.get("id"),s=e.get("slug");return(0,a.p5)((e,a,u)=>u.deleteSelfHostedGitConfig(n,t).then(({data:t})=>{e((0,r.Mx)(s)),e((0,o.KZ)({accountSlug:s}))}).catch(e=>{throw new i.Z(e)}))}},5193:(e,t,n)=>{n.d(t,{G6:()=>f,M2:()=>g,Pg:()=>m,RA:()=>y,k3:()=>_,k4:()=>h,uZ:()=>d,wo:()=>S});var i=n(26080),r=n(53227),a=n(13743),o=n(35812),s=n(81041),u=n(72546),c=n(69165);let l=(0,i.P)("services"),d=(0,i.x)("services",l);function g(e,t){let n=e.services.getIn(["pages",t.get("id"),"ids"]);return n&&n.map(t=>e.services.getIn(["entities",t]))}function p(e){return e.get("service_path").replace("/.netlify/","")}function f(e,t,n={}){return(0,a.p5)((i,r,a)=>a.createService(e.get("id"),t,n).then(e=>l.serviceSuccess(e.data)).then(()=>i(h(e))))}function h(e){let t=e.get("id");return(0,a.p5)((e,n,i)=>i.services(t).then(n=>e(l.servicesSuccess(t,n.data))))}function m(e,t,n){return(0,a.p5)((i,r,a)=>a.updateService(e.get("id"),p(t),t.get("id"),{config:n}).then(()=>i(h(e))))}function S(e,t){return(0,a.p5)((n,i,r)=>r.deleteService(e.get("id"),p(t),t.get("id")).then(()=>n(h(e))))}function _(e,t){return(0,a.vd)((n,i,r,a)=>{switch(t){case"cms":return Promise.all([n((0,u.XD)(e,{disable_signup:!0})),n(f(e,"git",{[a.provider]:{access_token:a.token,repo:e.getIn(["build_settings","repo_url"]).replace(/^https:\/\/[^/]+\//,"")}}))]).then(t=>{var i;return n((i=e,(e,t)=>{let n=t(),r=(0,o.HF)(n),a={email:r.get("email"),data:{full_name:r.get("full_name")}};return i=(0,c.lH)(n,i.get("name")),e((0,u.cG)(i,[a]))}))});case"fauna":return n(f(e,"fauna",{}));case"nimbella":return n(f(e,"nimbella",{}));default:return Promise.resolve()}})}function y(e,t){return(0,a.p5)((n,i,a)=>{let o=i(),u=(0,s.Ji)(o),c=(0,s.vv)(o),l=new r.ZP({site_id:u,base_url:c});return new Promise((n,i)=>l.authenticate({provider:e,scope:t},(e,t)=>{e?i(e):n(t.token)}))})}},1124:(e,t,n)=>{n.d(t,{DN:()=>c,kj:()=>u,oy:()=>l,zc:()=>o});var i=n(26080),r=n(13743);let a=(0,i.P)("siteAudits"),o=(0,i.x)("siteAudits",a);function s(e){return[e.siteId,e.search].join("-")}function u(e,t){let n=e.siteAudit.getIn(["pages",s(t),"ids"]);return n&&n.map(t=>e.siteAudit.getIn(["entities",t]))}function c(e,t){return e.siteAudit.getIn(["pages",s(t)])}function l(e){return(0,r.p5)((t,n,i)=>i.siteAudit(e).then(n=>{t(a.siteAuditsSuccess(s(e),n.data,n.pagination))}))}},69165:(e,t,n)=>{n.d(t,{$2:()=>er,$j:()=>eU,CJ:()=>eE,CX:()=>ea,Cu:()=>ec,EQ:()=>X,Er:()=>eI,G$:()=>eC,GQ:()=>ek,Go:()=>J,IS:()=>ed,KZ:()=>ef,L3:()=>eh,LR:()=>k,LZ:()=>L,Mo:()=>et,Nw:()=>z,OH:()=>eo,OK:()=>eB,OU:()=>eL,Pr:()=>eb,UJ:()=>eP,UQ:()=>el,Un:()=>eG,VI:()=>K,WV:()=>en,ZO:()=>es,Z_:()=>em,aO:()=>ee,c7:()=>eu,cP:()=>eN,eZ:()=>F,f:()=>A,gG:()=>e$,hK:()=>eK,hl:()=>eD,lH:()=>eO,mV:()=>ew,mY:()=>eT,mh:()=>eZ,n:()=>ex,rC:()=>eR,tI:()=>eA,tc:()=>eM,u:()=>eJ,wM:()=>eg,xb:()=>eS});var i=n(88601),r=n(81865),a=n.n(r),o=n(95390),s=n(36181),u=n(26080),c=n(36440),l=n(59973),d=n(61004),g=n(22186),p=n(46919),f=n(95243),h=n(13743),m=n(35812),S=n(55678),_=n(47976),y=n(17479),v=n(3643),I=n(47459),E=n(5193),b=n(31316);let w="BRANCHES_SUCCESS",P="DEPLOY_KEY_SUCCESS",C="DNS_ZONE_SUCCESS",R="ALL_DNS_ZONES_SUCCESS",U="SITES_CLEAR_PAGES",D="SNIPPETS_REQUEST",T="SNIPPETS_SUCCESS",A="DEPLOY_DONE",L="DEPLOY_ERROR",k="DIRECT_DEPLOY_LANDING",F="DIRECT_DEPLOY_SUCCESS",Z="SUBSCRIPTION_CANCELED",M="USAGE_RECORDS_SUCCESS",N="USAGE_RECORD_SUCCESS",O="APP_INSTALL_SUCCESS",$="DNS_CONFIG_CHECKED",z=(0,u.P)("sites");(0,s.Z)("SITE_CREATED",e=>e);let J=(0,s.Z)(U);(0,s.Z)(D,e=>e);let x=(0,s.Z)(T,(e,t)=>({name:e,snippets:t})),B=(0,s.Z)(w,(e,t)=>({name:e,branches:t}));(0,s.Z)(C,(e,t)=>({name:e,dnsZone:t}));let Y=(0,s.Z)(R,(e,t)=>({name:e,dnsZones:t})),G=(0,s.Z)(P,(e,t)=>({name:e,deployKey:t}));(0,s.Z)(A),(0,s.Z)(L,e=>e);let K=(0,s.Z)(k,()=>{}),q=(0,s.Z)(F,e=>e);(0,s.Z)(Z,e=>e);let H=(0,s.Z)(M,(e,t)=>({name:e,records:t})),j=(0,s.Z)(N,(e,t)=>({name:e,record:t})),V=(0,s.Z)(O,(e,t)=>({name:e,installationId:t})),Q=(0,s.Z)($,(e,t)=>({name:e,dnsVerified:t})),W=(0,i.Map)({isFetching:!0});function X(e){return(0,h.p5)((t,n,i)=>(t(z.siteRequest(e)),i.site(e).then(e=>t(z.siteSuccess(e.data))).catch(n=>t(z.siteFailure(e,n))).then(t=>eO(n(),e))))}function ee(e,t){return(n,i)=>fetch(`/.netlify/functions/verify?domain=${t}`).then(e=>e.json().then(t=>{if(!e.ok)throw new l.Z(t.error||"Error fetching DNS config");return t})).then(t=>{let i={glo:"global",global:"global",packet:"packet",pkt:"packet",reg:"regular",regular:"regular"},r=t.results.map(e=>e.cdnTier),a=e.getIn(["capabilities","cdn_tier"]);"custom"===a?n(Q(e.get("name"),"custom")):r.every(e=>["global","regular","packet"].includes(e))&&(r.every(e=>e===i[a]||"packet"===e)?n(Q(e.get("name"),"success")):n(Q(e.get("name"),"failed")))}).catch(e=>console.error("Error while checkDNSconfig:",e))}function et(e){return(0,h.p5)((t,n,i)=>i.siteById(e).then(e=>t(z.siteSuccess(e.data))).catch(n=>{t(z.siteFailure(e,n))}))}function en(e){return(0,h.p5)((t,n,i)=>i.branches(e.get("id")).then(i=>(t(B(e.get("name"),i.data)),eY(n(),e.get("name")))).catch(i=>i&&401===i.code?(t(B(e.get("name"),[])),eY(n(),e.get("name"))):Promise.reject(i)))}let ei=({customApexDomain:e,customSubdomain:t,allDnsZones:n})=>{let i=(null==t?void 0:t.split("."))||[],r=[];return i.forEach((t,n)=>{if(n===i.length-1)r.push(`${t}.${e}`);else{let a=i.slice(n+1);r.push(`${t}.${a.join(".")}.${e}`)}}),r.push(e),function e(t,n){if(0!==t.length&&0!==n.length)return n.find(e=>e.name===t[0])||(t.shift(),e(t,n))}(r,n)};function er(e,t){var n;let i=e.get("custom_domain"),r=(null===(n=e.get("domain_aliases"))||void 0===n?void 0:n.toJS())||[],a=[i,e.get("deploy_preview_custom_domain"),e.get("branch_deploy_custom_domain"),...r].filter(e=>!!e),o=t&&t.get("slug")||null;return(0,h.p5)((t,n,i)=>i.dnsZones(o).then(({data:n})=>{let i={};a.forEach(async r=>{await (0,p.hh)(r).then(e=>{let a=ei({customApexDomain:`${null==e?void 0:e.domain}.${null==e?void 0:e.tld}`,customSubdomain:null==e?void 0:e.subdomain,allDnsZones:n});a?(i[r]=a,t((0,_.pZ)(a.name))):i[r]={error:"DNS zone not found",name:r}}),t(Y(e.get("name"),i))})}))}function ea(e,t){let n=t.get("dns_zone");return null==n?void 0:n.set("records",(0,_.od)(e,n.get("name")))}function eo(e,t){let n=t.get("dns_zones");if(!n)return(0,i.fromJS)({});let r=n.toJS();return Object.keys(r).forEach(t=>{r[t].records=(0,_.od)(e,r[t].name)}),(0,i.fromJS)(r)}function es(e){return(0,h.p5)((t,n,i)=>i.siteUsage(e.get("id")).then(n=>t(H(e.get("name"),n.data))))}function eu(e,{id:t,plan:n}){return(0,h.p5)((i,r,a)=>a.changeAddonPlan(t,n,e.get("id")).then(t=>i(j(e.get("name"),t.data))))}function ec(e){return(0,h.p5)((t,n,i)=>i.siteSnippets(e.get("id")).then(n=>t(x(e.get("name"),n.data))))}function el(e,t){return(0,h.p5)((n,i,r)=>r.siteSnippetRemove(e.get("id"),t.get("id")).then(t=>n(ec(e))))}function ed(e,t){return(0,h.p5)((n,i,r)=>r.siteSnippetAdd(e.get("id"),t).then(t=>n(ec(e))))}function eg(e){return(0,h.p5)((t,n,i)=>{let r=eO(n(),e);if(!r||r.get("screenshot_fetching")||r.get("isFetching"))return;t(z.siteSuccess({name:e,screenshot_fetching:!0}));let a=0,o=()=>(a++,new Promise((n,r)=>{i.site(e).then(e=>{e.data.screenshot_url?n(t(z.siteSuccess(e.data))):a<=5&&setTimeout(o,1e3)})}));return o()})}function ep({accountSlug:e,searchTerm:t}){return`sites-${e}${t?`-${t}`:""}`}function ef(e){let t=ep(e);return(0,h.p5)((n,i,r)=>(n(z.sitesRequest(t)),r.sites(e).then(e=>n(z.sitesSuccess(t,e.data,e.pagination))).catch(t=>{n(z.sitesFailure(e,t))})))}function eh(e,t){let n=e.get("name");return(0,h.p5)((i,r,a)=>a.updateSite(e.get("id"),t).then(e=>{if(i(J()),i(z.siteSuccess(e.data)),e.data.name!==n){let t=window.location.pathname.replace(`/sites/${n}/`,`/sites/${e.data.name}/`);i((0,b.Ee)(t))}return eO(r(),n)}).catch(e=>{var t,n;if((null===(t=e.errors)||void 0===t?void 0:t.branch_deploy_custom_domain)||(null===(n=e.errors)||void 0===n?void 0:n.deploy_preview_custom_domain)){let t=(0,f.TQ)(e.errors);if(t)throw new l.Z(t)}if("string"==typeof e.errors)throw new l.Z({message:e.errors});throw e}))}function em(e){return(0,h.p5)((t,n,i)=>i.unlinkSiteRepository(e).then(e=>(t(J()),t(z.siteSuccess(e.data)))))}function eS(e){return(0,h.p5)((t,n,i)=>i.deleteSite(e.get("id")).then(e=>{t(J()),t((0,o.VF)("/"))}))}function e_(e){return(0,h.p5)((t,n,i)=>(0,v.$_)((r,a,o)=>e(t,n,i,o))(t,n))}let ey=e=>{var t;let n=null===(t=e.getIn(["settings","plugins"]))||void 0===t?void 0:t.toJS();return(null==n?void 0:n.length)?n:[]},ev=e=>g.Lz[e]!==g.Lz.azure_devops&&g.Lz[e]!==g.Lz.gitlab&&g.Lz[e]!==g.Lz.gitlab_self_hosted;function eI(e,t,n,i=""){let r=t.get("api_id"),a=t.get("full_name"),o=t.get("full_name_encoded"),s=t.get("private"),u=t.get("installation_id"),d=t.get("owner_type"),p=n.account_slug,f=t.get("project_id"),h=t.get("organization_name");return e_((_,y,v,E)=>{let b=E.provider===g.Lz.github_app?g.Lz.github:E.provider,w=y().git,P=g.Lz[b]===g.Lz.azure_devops,C=g.Lz[b]===g.Lz.gitlab||g.Lz[b]===g.Lz.gitlab_self_hosted,R=g.Lz[b]===g.Lz.bitbucket||g.Lz[b]===g.Lz.bitbucket_self_hosted,U=ev(b),D={provider:b,installation_id:u,id:t.get("id"),owner_type:d,repo:o||a,private:s,...n};P&&(D.azure_refresh_token=w.get("refreshAccessToken")),C&&(D.gitlab_refresh_token=w.get("refreshAccessToken")),R&&(D.bitbucket_refresh_token=w.get("refreshAccessToken")),delete D.account_slug;let{env:T}=D;delete D.env;let A=e?t=>v.updateSite(e.get("id"),t):e=>v.createSite({account_slug:p,env:(0,c.Z3)(T),...e,created_via:i});return _((0,I.pd)(a)),(u||P?Promise.resolve():v.createDeployKey().then(e=>E.addDeployKey(r,e.data,!0,t.get("organization_name"))).catch(e=>{var t;let n=null==E?void 0:null===(t=E.checkErrorForInvalidToken)||void 0===t?void 0:t.call(E,e);if(n)throw new l.Z(n);throw new l.Z("We couldn’t set up continuous deployment for this repository. This typically happens when you don’t have admin rights to the repository.")})).then(e=>A({repo:{...D,deploy_key_id:e&&e.id},...U&&{default_hooks_data:u?{}:{access_token:E.token}},plugins:ey(t)})).then(e=>E.addWebhook({api_id:r,site:e.data,organization_name:h,project_id:f})).then(e=>v.deploys(e.id,{page:1,per_page:1}).then(t=>(_((0,m.fq)()),_((0,I.Pk)(a)),_(J()),_(z.siteSuccess(e)),_(S.Nw.deploysSuccess(e.id,t.data,[])),{site:e,deploy:t.data[0]})))})}function eE(e){let t={};return e.forEach(e=>{t[e.path]=e.sha}),t}function eb(e,t,n,i){let r=function(e){let t={};return e.forEach(e=>{t[e]=!0}),t}(t.required),o=a()(5);return Promise.all(n.map(n=>r[n.sha]&&o(()=>e.uploadFile(t.deploy_id||t.id,n.path,n.content,i))).filter(Boolean))}function ew(e,t,n=!1){let i=e.get("id"),r=e.get("name"),a=eE(t);return(0,h.p5)((s,u,c)=>c.createDeploy(i,{files:a}).then(e=>{let t=e.data;return s(S.Nw.deploysSuccess(i,[t])),(0,d.D$)("dropSiteName",r),(0,d.D$)("dropDeployId",null==t?void 0:t.id),t}).then(e=>eb(c,e,t).then(()=>c.waitForDeploy(e.id)).then(e=>e.data)).then(t=>c.site(r).then(e=>{s(J()),s(z.siteSuccess(e.data)),s(S.Nw.deploysSuccess(i,[t]))}).then(i=>{if(n)s(eg(e.get("name"))),s((0,o.VF)(`/drop/${e.get("name")}`));else{let e=`/sites/${r}`;(null==t?void 0:t.id)&&(e+=`/deploys/${null==t?void 0:t.id}`),s((0,o.VF)(e)),(0,y.Te)()}return i})))}function eP(e,t=""){return(0,h.p5)((n,i,r)=>r.createSite({account_slug:e,created_via:t}).then(({data:e})=>(n(z.siteSuccess(e)),eO(i(),e.name))))}function eC(){return(0,h.p5)((e,t,n)=>n.createDeployKey().then(e=>e.data).catch(e=>{throw new l.Z("Error generating a new deploy key.",e)}))}function eR(e,t){return(0,h.p5)((n,i,r)=>r.getDeployKey(e).then(e=>n(G(t.get("name"),e.data))).catch(e=>{throw new l.Z("Error getting the deploy key.",e)}))}function eU(e,t){return(0,h.p5)((n,i,r)=>{if(t)return r.updateSiteCover(e.get("id"),t).then(()=>n(X(e.get("id")))).catch(e=>new l.Z(e))})}function eD(e){return(0,h.p5)((t,n,i)=>i.deleteSiteCover(e.get("id")).then(()=>t(X(e.get("id")))).catch(e=>new l.Z(e)))}function eT(e,t){let n=t.get("name");return e.sites.getIn(["entities",n]).get("deploy_key")||null}function eA({accountSlug:e,repo:t,newRepoName:n,stack:r,isRepoPrivate:a=!1,createdVia:o=""}){let s=t.get("default_branch"),u={path:t.get("full_name"),slug:t.get("full_name").replace(/\//,"-"),authorized_url:`https://${t.get("provider")}.com/${t.get("full_name")}`,branch:s},l=t.get("settings").toJS(),{env:d}=l;delete l.env;let g={name:n,private:a};return e_((a,p,f,h)=>{a((0,I.pd)(n));let m=ev(h.provider);return f.createTemplate(u).then(e=>e.data).then(n=>h.createRepo(g).then(u=>f.createDeployKey().then(e=>e.data).then(e=>h.addDeployKey(u.full_name,e,!1,t.get("organization_name"))).then(i=>f.createSite({account_slug:e,no_initial_build:!0,template_id:n.id,env:(0,c.Z3)(d),repo:{provider:h.provider,branch:s,id:u.id,repo:u.full_name,deploy_key_id:i.id,...l,private:u.private},...m&&{default_hooks_data:{access_token:h.token}},plugins:ey(t),created_via:o}).then(e=>e.data)).then(e=>h.addWebhook({api_id:u.api_id,site:e,organization_name:t.get("organization_name")})).then(e=>eF(e,t.getIn(["settings","template","incoming-hooks"])||[],f)).then(e=>a((0,E.k3)((0,i.fromJS)(e),r)).then(t=>e)).then(e=>f.triggerDeploy(e.id,!1,n.id).then(t=>({site:e,build:t}))).then(({site:e,build:t})=>{var n,i;a((0,I.Pk)(u.full_name)),a(q(e)),a(X(e.name));let r=`/sites/${e.name}`;(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.deploy_id)&&(r+=`/deploys/${null==t?void 0:null===(i=t.data)||void 0===i?void 0:i.deploy_id}`),a((0,b.Ee)(r))})))})}function eL({accountSlug:e,repo:t,newRepoName:n,stack:r,accountId:a,integrationInfo:o,isRepoPrivate:s=!1}){let u=t.get("default_branch"),d={path:t.get("full_name"),slug:t.get("full_name").replace(/\//,"-"),authorized_url:`https://${t.get("provider")}.com/${t.get("full_name")}`,branch:u},g=t.get("settings").toJS(),{env:p}=g;delete g.env;let f={name:n,private:s};return e_((s,h,m,S)=>{s((0,I.pd)(n));let _=ev(S.provider);return m.createTemplate(d).then(e=>e.data).then(n=>S.createRepo(f).then(d=>m.createDeployKey().then(e=>e.data).then(e=>S.addDeployKey(d.full_name,e,!1,t.get("organization_name"))).then(i=>m.createSite({account_slug:e,no_initial_build:!0,template_id:n.id,env:(0,c.Z3)(p),repo:{provider:S.provider,branch:u,id:d.id,repo:d.full_name,deploy_key_id:i.id,...g,private:d.private},..._&&{default_hooks_data:{access_token:S.token}},plugins:ey(t),created_via:"integration-template"}).then(e=>e.data)).then(e=>S.addWebhook({api_id:d.api_id,site:e,organization_name:t.get("organization_name")})).then(e=>eF(e,t.getIn(["settings","template","incoming-hooks"])||[],m)).then(e=>s((0,E.k3)((0,i.fromJS)(e),r)).then(t=>e)).then(async e=>{if(!(await fetch(`/.netlify/functions/private-integration-create?teamId=${a}`,{method:"POST",body:JSON.stringify({scopes:o.scopes,visibility:"private",name:o.name,slug:o.slug,slugPrefix:o.slugPrefix,description:o.description,hostSiteId:e.id,integrationLevel:o.level})})).ok)throw new l.Z("Failed to create integration");return e}).then(e=>m.triggerDeploy(e.id,!1,n.id).then(t=>({site:e,build:t}))).then(({site:e,build:t})=>{var n,i;s((0,I.Pk)(d.full_name)),s(q(e)),s(X(e.name));let r=`/sites/${e.name}`;(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.deploy_id)&&(r+=`/deploys/${null==t?void 0:null===(i=t.data)||void 0===i?void 0:i.deploy_id}?integrationSlug=${o.slug}&integrationSlugPrefix=${o.slugPrefix}`),s((0,b.Ee)(r))})))})}function ek(e,t){return(0,h.p5)((n,i,r)=>(n(z.siteRequest(e.get("name"))),r.transferSite(e.get("id"),t.get("id")).then(e=>(n(J()),n(z.siteSuccess(e.data))))))}function eF(e,t,n){return t.map(t=>n.addBuildHook(e.id,{title:t})),e}function eZ(e,t){return(n,i)=>n(V(e.get("name"),t))}let eM=(0,u.x)("sites",z,{key:"name",handler:(e,t)=>{switch(t.type){case U:return e.delete("pages");case D:return e.setIn(["entities",t.payload,"snippets","isFetching"],!0);case T:return e.setIn(["entities",t.payload.name,"snippets"],(0,i.fromJS)(t.payload.snippets));case w:return e.setIn(["entities",t.payload.name,"branches"],(0,i.fromJS)(t.payload.branches));case P:return e.setIn(["entities",t.payload.name,"deploy_key"],t.payload.deployKey.public_key);case C:return e.setIn(["entities",t.payload.name,"dns_zone"],(0,i.fromJS)(t.payload.dnsZone));case R:return e.setIn(["entities",t.payload.name,"dns_zones"],(0,i.fromJS)(t.payload.dnsZones));case Z:return e.deleteIn(["entities",t.payload.getIn(["site","name"]),"paid_individual_site_subscription"]);case M:return e.setIn(["entities",t.payload.name,"plans"],(0,i.fromJS)(t.payload.records).reduce((e,t)=>e.set(t.get("type"),t),(0,i.Map)()));case N:return e.updateIn(["entities",t.payload.name],e=>e.setIn(["plans",t.payload.record.type],(0,i.fromJS)(t.payload.record)));case $:return e.updateIn(["entities",t.payload.name],e=>e.set("dnsVerified",t.payload.dnsVerified));case O:return e.setIn(["entities",t.payload.name,"build_settings","installation_id"],t.payload.installationId);default:return null}}});function eN(e){return(0,h.ac)(e).sites}function eO(e,t,n=!1){let i=e.sites.getIn(["entities",t]);return i?i&&i.get&&i.get("id")?i:n?i.get&&i||W.set("name",t):null:null}function e$(e,t){return e.sites.get("entities").find(e=>e.get("id")===t)}function ez(e,t){let n=Number(t.page)||1,i=e.sites.getIn(["pages",ep(t)]),r=(null==i?void 0:i.get("current"))||1;return(null==i?void 0:i.get("isFetching"))||r!==n?null:i}function eJ(e,t){let n=ez(e,t);return null==n?void 0:n.get("ids").map(t=>eO(e,t))}function ex(e,t){var n;return null===(n=e.sites)||void 0===n?void 0:n.getIn(["pages",ep(t),"isFetching"])}function eB(e,t={}){return ez(e,t)}function eY(e,t){var n;return null===(n=eO(e,t))||void 0===n?void 0:n.get("branches")}function eG(e,t){let n=t&&t.get("branches"),i=t.getIn(["build_settings","repo_branch"]),r=n&&n.map(e=>e.get("name")).filter(e=>e!==i);return r&&r.unshift(i)}let eK=e=>t=>t(z.siteSuccess(e))},52724:(e,t,n)=>{n.d(t,{B2:()=>_,Sw:()=>P,XU:()=>U,Z:()=>R,_d:()=>T,as:()=>E,eA:()=>C,iS:()=>w,il:()=>b,oB:()=>D,oN:()=>v,sQ:()=>I,vy:()=>S,z4:()=>y});var i=n(88601),r=n(36181),a=n(59973),o=n(13743);let s="SLACK_WORKSPACE_LOADING",u="SLACK_WORKSPACE_SUCCESS",c="SLACK_SUBSCRIPTIONS_LOADING",l="SLACK_SUBSCRIPTIONS_SUCCESS",d="SLACK_CHANNELS_SUCCESS",g=(0,r.Z)(s,e=>({loading:e})),p=(0,r.Z)(u,(e,t)=>({accountId:e,data:t})),f=(0,r.Z)(c,e=>({loading:e})),h=(0,r.Z)(l,(e,t)=>({accountId:e,data:t})),m=(0,r.Z)(d,(e,t)=>({accountId:e,data:t}));function S(e=(0,i.Map)(),t){switch(t.type){case s:{let{loading:n}=t.payload;return e.setIn(["entities","loading"],n)}case u:{let{accountId:n,data:r}=t.payload;return e.setIn(["entities",n],(0,i.fromJS)(r.workspace))}default:return e}}function _(e=(0,i.Map)(),t){switch(t.type){case c:{let{loading:n}=t.payload;return e.setIn(["entities","loading"],n)}case l:{let{accountId:n,data:r}=t.payload;return e.setIn(["entities",n],(0,i.fromJS)(r))}default:return e}}function y(e=(0,i.Map)(),t){if(t.type===d){let{accountId:n,data:r}=t.payload;return e.setIn(["entities",n],(0,i.fromJS)(r))}return e}function v(e){return(0,o.p5)((t,n,i)=>(t(g(!0)),i.slackWorkspace(e).then(n=>{t(p(e,n.data))}).catch(n=>(t(p(e,{workspace:void 0})),new a.Z(n))).finally(()=>t(g(!1)))))}function I(e){return(0,o.p5)((t,n,i)=>i.deleteSlackWorkspace(e).then(()=>t(v(e))))}function E(e,t){return(0,o.p5)((n,i,r)=>{let a=[],o=async(i,s)=>{let u=await r.slackChannels(e,{cursor:i,limit:s});a.push(...u.data.channels);let{next_cursor:c}=u.data.response_metadata;c?await o(c,(null==t?void 0:t.limit)||1e3):n(m(e,a))};o("",(null==t?void 0:t.limit)||1e3)})}function b(e){return(0,o.p5)((t,n,i)=>(t(f(!0)),i.slackSubscriptions(e).then(n=>{t(h(e,n.data))}).finally(()=>t(f(!1)))))}function w(e,t){return(0,o.p5)((n,i,r)=>r[t.id?"editSlackSubscription":"createSlackSubscription"](e,t).then(()=>n(b(e))))}function P(e,t){return(0,o.p5)((n,i,r)=>r.deleteSlackSubscription(e,t).then(()=>n(b(e))))}let C=e=>e.slackWorkspace.getIn(["entities","loading"]),R=(e,t)=>t&&e.slackWorkspace.getIn(["entities",t]),U=e=>e.slackSubscriptions.getIn(["entities","loading"]),D=(e,t)=>t&&e.slackSubscriptions.getIn(["entities",t]),T=(e,t)=>t&&e.slackChannels.getIn(["entities",t])},21378:(e,t,n)=>{n.d(t,{Vt:()=>a});var i=n(26080);n(13743),n(69165);let r=(0,i.P)("subscriptions"),a=(0,i.x)("subscriptions",r)},81551:(e,t,n)=>{n.d(t,{IP:()=>o,K$:()=>c,XT:()=>l,iH:()=>u});var i=n(26080),r=n(13743);let a=(0,i.P)("teamAudits"),o=(0,i.x)("teamAudits",a);function s(e={accountId:"",accountSlug:""}){return[null==e?void 0:e.accountSlug,null==e?void 0:e.search].join("-")}function u(e,t){let n=e.teamAudit.getIn(["pages",s(t),"ids"]);return n&&n.map(t=>e.teamAudit.getIn(["entities",t]))}function c(e,t){return e.teamAudit.getIn(["pages",s(t)])}function l(e={accountId:"",accountSlug:""}){return(0,r.p5)((t,n,i)=>i.teamAudit(e).then(n=>{t(a.teamAuditsSuccess(s(e),n.data,n.pagination))}))}},5330:(e,t,n)=>{n.d(t,{GO:()=>a,IK:()=>r,Kq:()=>u,L9:()=>s,qX:()=>o});var i=n(36181);let r="TRACK",a="IDENTIFY",o="PAGE",s=(0,i.Z)(r,e=>e);(0,i.Z)(a,e=>e);let u=(0,i.Z)(o,()=>({}))},93846:(e,t,n)=>{n.d(t,{Dk:()=>g,Fz:()=>c,VO:()=>m,af:()=>f,m6:()=>h,rU:()=>u,vj:()=>p});var i=n(88601),r=n(36181),a=n(26080),o=n(13743);let s=(0,a.P)("trafficSplits"),u=(0,a.x)("trafficSplits",s,{handler:(e,t)=>{switch(t.type){case"TRAFFICSPLIT_SUCCESS":return e.setIn(["entities",t.payload.id],(0,i.fromJS)(t.payload));case"TRAFFICSPLIT_TOGGLE":return e.setIn(["entities",t.payload.splitId,"active"],t.payload.active);default:return null}}});function c(e,t){let n=e.trafficSplits.getIn(["pages",d(t),"ids"]);return n&&n.map(t=>e.trafficSplits.getIn(["entities",t]))}let l=(0,r.Z)("TRAFFICSPLIT_TOGGLE",(e,t)=>({splitId:e,active:t}));function d(e){return e&&e.get("id")}function g(e){let t=d(e);return(0,o.p5)((e,n,i)=>i.trafficSplits(t).then(n=>e(s.trafficSplitsSuccess(t,n.data))))}function p(e,t){let n=d(e);return(0,o.p5)((i,r,a)=>a.createTrafficSplit(n,t).then(t=>{i(s.trafficSplitSuccess(t.data)),i(g(e))}))}function f(e,t,n){let i=d(e);return(0,o.p5)((e,r,a)=>a.updateTrafficSplit(i,t,n).then(t=>{e(s.trafficSplitSuccess(t.data))}))}function h(e,t){return(0,o.p5)((n,i,r)=>r.startTrafficSplit(d(e),t).then(i=>{n(l(t,!0)),n(g(e))}))}function m(e,t){return(0,o.p5)((n,i,r)=>r.stopTrafficSplit(d(e),t).then(i=>{n(l(t,!1)),n(g(e))}))}},37414:(e,t,n)=>{var i;n.d(t,{f:()=>i}),function(e){e.all="all",e.nonProduction="non_production"}(i||(i={}))},31316:(e,t,n)=>{n.d(t,{Ee:()=>_,FY:()=>w,Gh:()=>k,Ic:()=>D,Iz:()=>L,Jh:()=>E,K4:()=>P,Qf:()=>C,SP:()=>A,TW:()=>U,X_:()=>R,_P:()=>y,jS:()=>I,oL:()=>b,qC:()=>v,ui:()=>S});var i=n(88601),r=n(95390),a=n(55155),o=n(13156),s=n(13743),u=n(69165),c=n(5330);let l="SET_A11Y_MESSAGE",d="SET_LOADING",g="SET_ROUTE_PATH",p="SET_DISPLAY_GUIDED_ONBOARDING",f="SHOW_FIRST_DEPLOY_MODAL",h="SITES_NAV_LIST_SUCCESS",m="LOAD_USER_SHORTCUTS_SUCCESS",S=(e=(0,i.Map)(),t)=>{switch(t.type){case l:return e.setIn(["ui","a11yMessage"],t.message);case d:return e.setIn(["ui","loading"],t.loading);case g:return e.setIn(["ui","routePath"],t.routePath);case p:return e.setIn(["ui","displayGuidedOnboarding"],t.displayGuidedOnboarding);case f:let{show:n}=t,r=t.data||e.getIn(["ui","firstDeployModal","data"]);return e.setIn(["ui","firstDeployModal"],{show:n,data:r});case h:return e.setIn(["ui","sitesNavList",t.accountSlug],t.data);case m:return e.setIn(["ui","userShortcuts"],t.userShortcuts);default:return e}},_=e=>t=>{t((0,r.gx)(e)),t((0,c.Kq)())},y=({ui:e})=>e.getIn(["ui","a11yMessage"]),v=({ui:e})=>e.getIn(["ui","routePath"]),I=({ui:e})=>e.getIn(["ui","displayGuidedOnboarding"]);function E({ui:e},t){return e.getIn(["ui","sitesNavList",t])||(0,i.fromJS)([])}function b({ui:e}){let t=e.getIn(["ui","userShortcuts"]);return null!=t?t:{}}let w=e=>({type:l,message:e}),P=e=>({type:d,loading:e}),C=e=>({type:g,routePath:e}),R=e=>({type:p,displayGuidedOnboarding:e}),U=e=>({type:f,show:!0,data:e}),D=()=>({type:f,show:!1}),T=({data:e,accountSlug:t})=>({type:h,data:e,accountSlug:t}),A=()=>e=>{e({type:m,userShortcuts:(0,o.oP)()})},L=(e,t)=>n=>{let i=(0,o.oP)();(0,o.qW)(e,t),n({type:m,userShortcuts:{...i,[e]:(0,a.kb)(t)}})};function k({accountSlug:e,siteName:t}){return(0,s.p5)((n,r,a)=>{let o=r(),s=E(o,e),c=(0,u.lH)(o,t,!1);if(!s||s.isEmpty()||c&&!s.find(e=>(null==e?void 0:e.get("name"))===(null==c?void 0:c.get("name"))))return a.sites({accountSlug:e}).then(t=>n(T({data:(0,i.fromJS)(t.data),accountSlug:e}))).catch(()=>n(T((0,i.fromJS)([]))))})}},25641:(e,t,n)=>{n.d(t,{q6:()=>o});var i=n(88601),r=n(36181);let a="UPLOAD_LOG";function o(e=(0,i.Map)(),t){if(t.type===a){let{deploy_id:n,ts:r,log:a}=t.payload,o=e.get(n)||(0,i.List)();return e.setIn([n],o.push((0,i.Map)({ts:r,log:a})))}return e}(0,r.Z)(a,(e,t)=>({deploy_id:e,log:t,ts:new Date().getTime()}))},79265:(e,t,n)=>{let i;n.d(t,{Pn:()=>_,aV:()=>v,bF:()=>S,ot:()=>y});var r=n(88601),a=n(36181),o=n(22339),s=n(50035);let u="USER_ANALYTICS_METRIC_SUCCESS",c="USER_ANALYTICS_METRIC_FETCHING_DONE",l="USER_ANALYTICS_METRIC_FETCHING_STARTED",d={resolution:"hour",days:7},g=7,p=(0,a.Z)(u,(e,t,n,{data:i})=>({metric:e,siteId:t.get("id"),period:n,data:i})),f=(0,a.Z)(c,(e,t)=>({metric:e,siteId:t.get("id")})),h=(0,a.Z)(l,(e,t)=>({metric:e,siteId:t.get("id")}));function m(e="day",t=30){let n=new Date;return{from:(0,o.b7)((0,o.YD)(n,t)).getTime(),to:n.getTime(),resolution:e}}function S(e,t,{resolution:n,days:r}=d,a=""){var o;let{period:u}=function(e="day",t=7){return{period:m(e,t),periodByRange:m("range",t)}}(n,r);return g=r,o=(n,i,r)=>Promise.all([n(h(t,e)),r.realUserMetric(e.get("id"),t,a,u).then(i=>n(p(t,e,u,i)))]).then(()=>n(f(t,e))),(e,t)=>{let{config:n}=t();return o(e,t,i=i||new s.ZP(n))}}function _(e,t,n){return e.realUserMetrics.get(`${t.get("id")}-${n}`)&&e.realUserMetrics.get(`${t.get("id")}-${n}`).toJS()}function y(){return g}let v=(e=(0,r.Map)(),t)=>{switch(t.type){case l:return e.setIn([`${t.payload.siteId}-${t.payload.metric}`,"isFetching"],!0);case u:return e.set(`${t.payload.siteId}-${t.payload.metric}`,(0,r.fromJS)({data:t.payload.data,timePeriod:{from:t.payload.period.from,to:t.payload.period.to},status:"current"}));case c:return e.setIn([`${t.payload.siteId}-${t.payload.metric}`,"isFetching"],!1);default:return e}}}}]);